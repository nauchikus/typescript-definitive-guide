{"version":3,"sources":["webpack:///./src/react__context/BehaviorNotificationContext.ts","webpack:///./src/components/app-driver__what-is-new-toc-page/WhatIsNewTocPageAppDriver.tsx","webpack:///./src/components/content__control-bar/ControlBarContent.tsx","webpack:///./src/layouts/content-layout/ContentLayout.tsx","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/AsyncAction.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/Action.js","webpack:///./node_modules/rxjs/_esm5/internal/Scheduler.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/async.js","webpack:///./node_modules/rxjs/_esm5/internal/scheduler/AsyncScheduler.js","webpack:///./src/maps/book-chapter-section-type-to-style-color-map.ts","webpack:///./src/stores/TocTreeWithSectionMobxStore.ts","webpack:///./src/stores/BookTocTreeStore.ts","webpack:///./src/mobx__entry/BookTocPageMobxEntry.ts","webpack:///./src/components/tree__tree-close-decor_book-toc/BookTocTreeCloseDecor.tsx","webpack:///./src/components/toc-menu__section/SectionTocMenu.tsx","webpack:///./src/components/toc-menu__section-label/SectionLabelTocMenu.tsx","webpack:///./src/components/toc-menu__section-content/SectionContentTocMenu.tsx","webpack:///./src/components/collapse/collpase-context.ts","webpack:///./src/components/collapse/Collapse.tsx","webpack:///./src/components/collapse__group/collpase-group-context.ts","webpack:///./src/components/collapse__collapsed/CollapsedCollapse.tsx","webpack:///./src/components/tree/Tree.tsx","webpack:///./src/components/toc-menu__item/ItemTocMenu.tsx","webpack:///./src/components/toc-menu__item__index/ItemIndexTocMenu.tsx","webpack:///./src/components/toc-menu__copy-to-buffer-button/CopyToBufferButtonTocMenu.tsx","webpack:///./src/components/transform__rotate-container/RotateContainer.tsx","webpack:///./src/components/button__collapse/CollapseButton.tsx","webpack:///./src/components/toc-menu__collapse-item-button/CollapseItemButtonTocMenu.tsx","webpack:///./src/stores/Toggle.ts","webpack:///./src/components/collapse__group/GroupCollapse.tsx","webpack:///./src/layouts/book-toc-content-layout/BookTocContentLayout.tsx","webpack:///./src/components/toc-collapse-all-button/TocCollapseAllButton.tsx","webpack:///./src/components/book-toc-tag/BookTocTag.tsx","webpack:///./node_modules/rxjs/_esm5/internal/symbol/iterator.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeTo.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToObservable.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isArrayLike.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToArray.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isPromise.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToPromise.js","webpack:///./node_modules/rxjs/_esm5/internal/util/subscribeToIterable.js","webpack:///./node_modules/rxjs/_esm5/internal/innerSubscribe.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/audit.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isNumeric.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isScheduler.js","webpack:///./node_modules/rxjs/_esm5/internal/observable/timer.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/auditTime.js","webpack:///./node_modules/rxjs/_esm5/internal/util/noop.js","webpack:///./node_modules/rxjs/_esm5/internal/operators/tap.js","webpack:///./src/components/book-toc-tag-bar/BookTocTagBar.tsx","webpack:///./src/components/dropdown__filter-dropdown__book_toc/FilterDropdown.tsx","webpack:///./src/components/layer__book-toc__control-bar-layer/BookTocControlBarLayer.tsx","webpack:///./src/page-templates/book-toc-page/BookTocPage.tsx","webpack:///./src/page-templates/book-toc-page/BookTocPageProvider.tsx"],"names":["BehaviorNotificationContext","useBehaviorNotification","WhatIsNewTocPageAppDriver","_ref2","createElement","ControlBarContent","_ref","children","className","ContentLayout","controlBar","content","_super","AsyncAction","scheduler","work","_this","call","this","pending","prototype","schedule","state","delay","closed","id","recycleAsyncId","requestAsyncId","setInterval","flush","bind","clearInterval","execute","Error","error","_execute","errored","errorValue","undefined","e","unsubscribe","_unsubscribe","actions","index","indexOf","splice","Action","Scheduler","SchedulerAction","now","Date","AsyncScheduler","delegate","active","scheduled","action","push","shift","BookChapterSectionRuName","BookChapterSectionType","BookChapterSectionStyleName","BookChapterSectionRuNameToSectionTypeMap","Map","Common","TypingIntroduction","SyntacticConstruction","Types","TypescriptFeatures","WorkingWithTypes","Typing","ExtendedTypes","React","Assembly","Compiler","Classes","All","BookChapterSectionTypeToClassNameMap","getClassNameWithBgColorAttrBySectionName","sectionName","locale","type","get","baseClassName","toFullClassNameWithBgColorAttr","TocTreeWithSectionMobxStore","tree","showTocWithSectionName","BOOK_TOC_SECTION_NAME_ALL","sectionMatchCount","getNumSection","key","isAllSection","filter","node","data","section","_proto","hideBySectionName","showAll","getSectionMatchCount","_this$sectionMatchCou","reduce","result","current","_result$get","count","has","set","treeFiltered","BookTocPageMobxEntry","getInstance","params","instance","create","bookTocTree","location","router","RouterStore","tocFilterStore","Close","bookTocCollapseStore","CollapseTreeMobxStore","bookTocSectionStore","behaviorNotificationStore","MobxBookTocPageContext","BookTocTreeCloseDecor","observer","lang","length","classes","toFullClassNameWithBorderColorAttr","getClassNameWithBorderColorAttrBySectionName","CollapseContext","isCollapse","toggle","Collapse","getNodeById","Provider","value","toggleById","CollapseGroupService","registerGroup","collapseGroup","map","unregisterGroup","delete","getCollapseGroup","CollapseGroupContext","CollapsedCollapse","getStateByValue","collapse","_useState","setState","level","onClick","t","BookChaptersPageGui","IconButton","size","SM","Tooltip","position","BottomCenter","tocItem","copyLinkToBufferButton","tooltip","_cn","isToggle","If","condition","collapseTocButton","openState","closeState","CollapseItemButtonTocMenu","CollapseService","_CollapseService$map$","destroy","getCollapseById","BookTocContentLayout","_useBookTocPageStores","getLastItem","array","bookToc","treeWithSectionAll","item","isSectionContinues","items","sectionIndex","sectionKey","bookTocTreeNode","firstLevelIndex","title","firstLevelPath","path","subtitles","firstLevelItem","toString","to","toRelativePath","secondLevelItemAll","secondLevelIndex","secondLevelPath","subtitle","TocCollapseAllButton","collapseGroupId","collapseAll","isCollapseAll","secondaryContentBar","tocCollapseAllButton","getSymbolIterator","Symbol","iterator","obj","subscriber","obs","subscribe","TypeError","x","i","len","next","complete","then","isPromise","promise","err","hostReportError","iterable","done","return","add","isObject","SimpleInnerSubscriber","parent","_next","notifyNext","_error","notifyError","_complete","notifyComplete","Subscriber","SimpleOuterSubscriber","apply","arguments","innerValue","destination","AuditOperator","durationSelector","source","AuditSubscriber","hasValue","throttled","duration","innerSubscription","innerSubscriber","Observable","innerSubscribe","clearThrottle","remove","isNumeric","val","isArray","parseFloat","isScheduler","dispatch","period","auditTime","dueTime","periodOrScheduler","Number","due","timer","lift","noop","DoOperator","nextOrObserver","TapSubscriber","observerOrNext","_tapNext","_tapError","_tapComplete","isFunction","_context","filterSectionRef","bookTocTree$","filterSection","Subject","pipe","window","scrollTo","scrollX","close","filterSectionSubscription","bookTocSectionSet","Set","bookTocTagAll","Array","from","sort","a","b","charCodeAt","_filterSectionRef$cur","filterBySectionName","_filterSectionRef$cur2","asideLayout","tagBar","cleanFilterButton","Dropdown","DropdownToggle","tocFilterButton","DropdownMenu","openClassName","closeClassName","label","SliderSecondSpaceLayout","driver","pageContext","localization","mobxEntry","console","log","setLocation","BaseLayout"],"mappings":"6FAAA,oFACWA,EAA2C,wBAAc,MACzDC,EAA0B,WACnC,OAAO,qBAAWD,K,oCCHpB,+IA+BWE,EAA4B,aAAS,SAAUC,GAGxD,OAFA,YAA0BA,GAEN,IAAMC,cAAc,IAAW,KAAmB,IAAMA,cAAc,IAAwB,MAAoB,IAAMA,cAAc,IAAiB,W,oCClC7K,2DACWC,EAAoB,SAA2BC,GACxD,IAAIC,EAAWD,EAAKC,SACpB,OAAoB,IAAMH,cAAc,MAAO,CAC7CI,UAAW,wBACVD,K,kCCLL,2DACWE,EAAgB,SAAuBH,GAChD,IAAII,EAAaJ,EAAKI,WAClBC,EAAUL,EAAKK,QACnB,OAAoB,IAAMP,cAAc,MAAO,CAC7CI,UAAW,kBACG,IAAMJ,cAAc,MAAO,CACzCI,UAAW,+BACVE,GAA0B,IAAMN,cAAc,MAAO,CACtDI,UAAW,2BACVG,M,2GCND,EAA2B,SAAUC,GAGvC,SAASC,EAAYC,EAAWC,GAC9B,IAAIC,EAAQJ,EAAOK,KAAKC,KAAMJ,EAAWC,IAASG,KAKlD,OAHAF,EAAMF,UAAYA,EAClBE,EAAMD,KAAOA,EACbC,EAAMG,SAAU,EACTH,EAqGT,OA7GA,IAAkBH,EAAaD,GAW/BC,EAAYO,UAAUC,SAAW,SAAUC,EAAOC,GAKhD,QAJc,IAAVA,IACFA,EAAQ,GAGNL,KAAKM,OACP,OAAON,KAGTA,KAAKI,MAAQA,EACb,IAAIG,EAAKP,KAAKO,GACVX,EAAYI,KAAKJ,UASrB,OAPU,MAANW,IACFP,KAAKO,GAAKP,KAAKQ,eAAeZ,EAAWW,EAAIF,IAG/CL,KAAKC,SAAU,EACfD,KAAKK,MAAQA,EACbL,KAAKO,GAAKP,KAAKO,IAAMP,KAAKS,eAAeb,EAAWI,KAAKO,GAAIF,GACtDL,MAGTL,EAAYO,UAAUO,eAAiB,SAAUb,EAAWW,EAAIF,GAK9D,YAJc,IAAVA,IACFA,EAAQ,GAGHK,YAAYd,EAAUe,MAAMC,KAAKhB,EAAWI,MAAOK,IAG5DV,EAAYO,UAAUM,eAAiB,SAAUZ,EAAWW,EAAIF,GAK9D,QAJc,IAAVA,IACFA,EAAQ,GAGI,OAAVA,GAAkBL,KAAKK,QAAUA,IAA0B,IAAjBL,KAAKC,QACjD,OAAOM,EAGTM,cAAcN,IAIhBZ,EAAYO,UAAUY,QAAU,SAAUV,EAAOC,GAC/C,GAAIL,KAAKM,OACP,OAAO,IAAIS,MAAM,gCAGnBf,KAAKC,SAAU,EAEf,IAAIe,EAAQhB,KAAKiB,SAASb,EAAOC,GAEjC,GAAIW,EACF,OAAOA,GACmB,IAAjBhB,KAAKC,SAAgC,MAAXD,KAAKO,KACxCP,KAAKO,GAAKP,KAAKQ,eAAeR,KAAKJ,UAAWI,KAAKO,GAAI,QAI3DZ,EAAYO,UAAUe,SAAW,SAAUb,EAAOC,GAChD,IAAIa,GAAU,EACVC,OAAaC,EAEjB,IACEpB,KAAKH,KAAKO,GACV,MAAOiB,GACPH,GAAU,EACVC,IAAeE,GAAKA,GAAK,IAAIN,MAAMM,GAGrC,GAAIH,EAEF,OADAlB,KAAKsB,cACEH,GAIXxB,EAAYO,UAAUqB,aAAe,WACnC,IAAIhB,EAAKP,KAAKO,GACVX,EAAYI,KAAKJ,UACjB4B,EAAU5B,EAAU4B,QACpBC,EAAQD,EAAQE,QAAQ1B,MAC5BA,KAAKH,KAAO,KACZG,KAAKI,MAAQ,KACbJ,KAAKC,SAAU,EACfD,KAAKJ,UAAY,MAEF,IAAX6B,GACFD,EAAQG,OAAOF,EAAO,GAGd,MAANlB,IACFP,KAAKO,GAAKP,KAAKQ,eAAeZ,EAAWW,EAAI,OAG/CP,KAAKK,MAAQ,MAGRV,EA9GsB,CCAL,SAAUD,GAGlC,SAASkC,EAAOhC,EAAWC,GACzB,OAAOH,EAAOK,KAAKC,OAASA,KAW9B,OAdA,IAAkB4B,EAAQlC,GAM1BkC,EAAO1B,UAAUC,SAAW,SAAUC,EAAOC,GAK3C,YAJc,IAAVA,IACFA,EAAQ,GAGHL,MAGF4B,EAfiB,C,UAgBxB,ICpBEC,EAAyB,WAC3B,SAASA,EAAUC,EAAiBC,QACtB,IAARA,IACFA,EAAMF,EAAUE,KAGlB/B,KAAK8B,gBAAkBA,EACvB9B,KAAK+B,IAAMA,EAeb,OAZAF,EAAU3B,UAAUC,SAAW,SAAUN,EAAMQ,EAAOD,GAKpD,YAJc,IAAVC,IACFA,EAAQ,GAGH,IAAIL,KAAK8B,gBAAgB9B,KAAMH,GAAMM,SAASC,EAAOC,IAG9DwB,EAAUE,IAAM,WACd,OAAOC,KAAKD,OAGPF,EAtBoB,GCIlB,EAD8B,ICCP,SAAUnC,GAG1C,SAASuC,EAAeH,EAAiBC,QAC3B,IAARA,IACFA,EAAMF,EAAUE,KAGlB,IAAIjC,EAAQJ,EAAOK,KAAKC,KAAM8B,GAAiB,WAC7C,OAAIG,EAAeC,UAAYD,EAAeC,WAAapC,EAClDmC,EAAeC,SAASH,MAExBA,QAEL/B,KAKN,OAHAF,EAAM0B,QAAU,GAChB1B,EAAMqC,QAAS,EACfrC,EAAMsC,eAAYhB,EACXtB,EA2CT,OA7DA,IAAkBmC,EAAgBvC,GAqBlCuC,EAAe/B,UAAUC,SAAW,SAAUN,EAAMQ,EAAOD,GAKzD,YAJc,IAAVC,IACFA,EAAQ,GAGN4B,EAAeC,UAAYD,EAAeC,WAAalC,KAClDiC,EAAeC,SAAS/B,SAASN,EAAMQ,EAAOD,GAE9CV,EAAOQ,UAAUC,SAASJ,KAAKC,KAAMH,EAAMQ,EAAOD,IAI7D6B,EAAe/B,UAAUS,MAAQ,SAAU0B,GACzC,IAAIb,EAAUxB,KAAKwB,QAEnB,GAAIxB,KAAKmC,OACPX,EAAQc,KAAKD,OADf,CAKA,IAAIrB,EACJhB,KAAKmC,QAAS,EAEd,GACE,GAAInB,EAAQqB,EAAOvB,QAAQuB,EAAOjC,MAAOiC,EAAOhC,OAC9C,YAEKgC,EAASb,EAAQe,SAI1B,GAFAvC,KAAKmC,QAAS,EAEVnB,EAAO,CACT,KAAOqB,EAASb,EAAQe,SACtBF,EAAOf,cAGT,MAAMN,KAIHiB,EA9DyB,CA+DhCJ,GDhEuC,CAAmB,I,6CEHxDW,EAkBAC,EAkBAC,E,mHAlCJ,SAAWF,GACTA,EAAwB,OAAa,QACrCA,EAAwB,mBAAyB,sBACjDA,EAAwB,sBAA4B,6BACpDA,EAAwB,MAAY,OACpCA,EAAwB,mBAAyB,sBACjDA,EAAwB,iBAAuB,kBAC/CA,EAAwB,OAAa,YACrCA,EAAwB,cAAoB,mBAC5CA,EAAwB,MAAY,QACpCA,EAAwB,SAAe,SACvCA,EAAwB,SAAe,aACvCA,EAAwB,QAAc,SACtCA,EAAwB,IAAU,MAbpC,CAcGA,IAA6BA,EAA2B,KAI3D,SAAWC,GACTA,EAAsB,OAAa,SACnCA,EAAsB,mBAAyB,qBAC/CA,EAAsB,sBAA4B,wBAClDA,EAAsB,MAAY,QAClCA,EAAsB,mBAAyB,qBAC/CA,EAAsB,iBAAuB,mBAC7CA,EAAsB,OAAa,SACnCA,EAAsB,cAAoB,gBAC1CA,EAAsB,MAAY,QAClCA,EAAsB,SAAe,WACrCA,EAAsB,SAAe,WACrCA,EAAsB,QAAc,UACpCA,EAAsB,IAAU,MAblC,CAcGA,IAA2BA,EAAyB,KAIvD,SAAWC,GACTA,EAA2B,OAAa,SACxCA,EAA2B,mBAAyB,sBACpDA,EAA2B,sBAA4B,yBACvDA,EAA2B,MAAY,QACvCA,EAA2B,mBAAyB,sBACpDA,EAA2B,iBAAuB,qBAClDA,EAA2B,OAAa,SACxCA,EAA2B,cAAoB,iBAC/CA,EAA2B,MAAY,QACvCA,EAA2B,SAAe,WAC1CA,EAA2B,SAAe,WAC1CA,EAA2B,QAAc,UACzCA,EAA2B,IAAU,GAbvC,CAcGA,IAAgCA,EAA8B,KAEjE,IAQWC,EAA2C,IAAIC,IAAI,CAAC,CAACJ,EAAyBK,OAAQJ,EAAuBI,QAAS,CAACL,EAAyBM,mBAAoBL,EAAuBK,oBAAqB,CAACN,EAAyBO,sBAAuBN,EAAuBM,uBAAwB,CAACP,EAAyBQ,MAAOP,EAAuBO,OAAQ,CAACR,EAAyBS,mBAAoBR,EAAuBQ,oBAAqB,CAACT,EAAyBU,iBAAkBT,EAAuBS,kBAAmB,CAACV,EAAyBW,OAAQV,EAAuBU,QAAS,CAACX,EAAyBY,cAAeX,EAAuBW,eAAgB,CAACZ,EAAyBa,MAAOZ,EAAuBY,OAAQ,CAACb,EAAyBc,SAAUb,EAAuBa,UAAW,CAACd,EAAyBe,SAAUd,EAAuBc,UAAW,CAACf,EAAyBgB,QAASf,EAAuBe,SAAU,CAAChB,EAAyBiB,IAAKhB,EAAuBgB,OACx/BC,EAAuC,IAAId,IAAI,CAAC,CAACH,EAAuBI,OAAQH,EAA4BG,QAAS,CAACJ,EAAuBK,mBAAoBJ,EAA4BI,oBAAqB,CAACL,EAAuBM,sBAAuBL,EAA4BK,uBAAwB,CAACN,EAAuBO,MAAON,EAA4BM,OAAQ,CAACP,EAAuBQ,mBAAoBP,EAA4BO,oBAAqB,CAACR,EAAuBS,iBAAkBR,EAA4BQ,kBAAmB,CAACT,EAAuBU,OAAQT,EAA4BS,QAAS,CAACV,EAAuBW,cAAeV,EAA4BU,eAAgB,CAACX,EAAuBY,MAAOX,EAA4BW,OAAQ,CAACZ,EAAuBa,SAAUZ,EAA4BY,UAAW,CAACb,EAAuBc,SAAUb,EAA4Ba,UAAW,CAACd,EAAuBe,QAASd,EAA4Bc,SAAU,CAACf,EAAuBgB,IAAKf,EAA4Be,OAE3hCE,EAA2C,SAAkDC,EAAaC,QACpG,IAAXA,IACFA,EAAS,MAGX,IAAIC,EAAOnB,EAAyCoB,IAAIH,GAExD,IAAKE,EACH,MAAM,IAAI/C,MAAM,yBAA4B6C,EAAc,MAG5D,IAAII,EAAgBN,EAAqCK,IAAID,GAE7D,QAAsB1C,IAAlB4C,EACF,MAAM,IAAIjD,MAAM,2BAA8B6C,EAAc,iBAI9D,OA7BmC,SAAwCtE,GAC3E,MAAO,oCAAsCA,EA2B7B2E,CAA+BD,I,wEC/EtC,EAA2C,WAiBpD,SAASE,EAA4BC,GACnCnE,KAAKoE,uBAAyBF,EAA4BG,0BAC1DrE,KAAKmE,KAAOA,EACZnE,KAAKsE,kBAAoBJ,EAA4BK,cAAcvE,KAAKmE,MAnB1E,YAAaD,EAA6B,CAAC,CACzCM,IAAK,eACLT,IAAK,WACH,OAAO/D,KAAKoE,yBAA2BF,EAA4BG,4BAEpE,CACDG,IAAK,eACLT,IAAK,WACH,IAAIjE,EAAQE,KAEZ,OAAOA,KAAKyE,aAAezE,KAAKmE,KAAOnE,KAAKmE,KAAKO,QAAO,SAAUC,GAChE,OAAOA,EAAKC,KAAKC,UAAY/E,EAAMsE,8BAWzC,IAAIU,EAASZ,EAA4BhE,UAgBzC,OAdA4E,EAAOC,kBAAoB,SAA2BnB,GACpD5D,KAAKoE,uBAAyBR,GAGhCkB,EAAOE,QAAU,WACfhF,KAAKoE,uBChC8B,IDmCrCU,EAAOG,qBAAuB,SAA8BrB,GAC1D,IAAIsB,EAEJ,OAA6E,QAArEA,EAAwBlF,KAAKsE,kBAAkBP,IAAIH,UAAoD,IAA1BsB,EAAmCA,EAAwB,GAG3IhB,EAvC6C,GAyCtD,EAA4BG,0BAA4B,GAExD,EAA4BE,cAAgB,SAAUJ,GACpD,OAAOA,EAAKgB,QAAO,SAAUC,EAAQC,GACnC,IAAIC,EAEAT,EAAUQ,EAAQT,KAAKC,QACvBU,EAAQH,EAAOI,IAAIX,IAAoD,QAAvCS,EAAcF,EAAOrB,IAAIc,UAAsC,IAAhBS,EAAyBA,EAAc,GAAK,EAAI,EAEnI,OADAF,EAAOK,IAAIZ,EAASU,GACbH,IACN,IAAIxC,MAGT,YAAS,EAA6B,CACpC6B,aAAc,IACdiB,aAAc,IACdtB,uBAAwB,MEtDnB,IAAIuB,EAAoC,WAC7C,SAASA,KAUT,OARAA,EAAqBC,YAAc,SAAqBC,GAKtD,OAJKF,EAAqBG,WACxBH,EAAqBG,SAAWH,EAAqBI,OAAOF,IAGvDF,EAAqBG,UAGvBH,EAXsC,GAc/CA,EAAqBI,OAAS,SAAU3G,GACtC,IAAI4G,EAAc5G,EAAK4G,YACnBC,EAAW7G,EAAK6G,SAChBC,EAASC,EAAA,EAAYJ,OAAO,CAC9BE,SAAUA,IAERG,EAAiB,YAAkB,IAAcC,OACjDC,EAAuB,IAAIC,EAAA,EAAsBP,GAAa,GAIlE,MAAO,CACLE,OAAQA,EACRE,eAAgBA,EAChBE,qBAAsBA,EACtBE,oBAPwB,IAAI,EAA4BF,EAAqBnC,MAQ7EsC,0BAN8B,gBAU3B,IAAIC,EAAsC,wBAAc,MACpD,EAAuB,WAChC,OAAO,qBAAWA,ICpCTC,EAAwB,OAAAC,EAAA,IAAS,WAC1C,IACI/C,EADiB,cACO,GAAGgD,KAG3BL,EADwB,IACoBA,oBAE5C5C,EAAc4C,EAAoBd,aAAac,EAAoBd,aAAaoB,OAAS,GAAGlC,KAAKC,QACjGkC,EAAU,IAAG,sBAAuBpD,EAAyCC,EAAaC,IAC9F,OAAoB,IAAM3E,cAAc,MAAO,CAC7CI,UAAWyH,OCfJ,EAAiB,SAAwB3H,GAClD,IAAIC,EAAWD,EAAKC,SACpB,OAAoB,IAAMH,cAAc,MAAO,CAC7CI,UAAW,qBACVD,ICDM,EAAsB,SAA6BD,GAC5D,IAAIwE,EAAcxE,EAAKwE,YAGnBC,EADiB,cACO,GAAGgD,KAE3BE,EAAU,IAAG,0BAA2BpD,EAAyCC,EAAaC,IAClG,OAAoB,IAAM3E,cAAc,MAAO,CAC7CI,UAAWyH,GACG,IAAM7H,cAAc,OAAQ,KAAM0E,KCTzC,EAAwB,SAA+BxE,GAChE,IAAIwE,EAAcxE,EAAKwE,YACnBvE,EAAWD,EAAKC,SAGhBwE,EADiB,cACO,GAAGgD,KAE3BE,EAAU,IAAG,4BP0EuC,SAAsDnD,EAAaC,QAC5G,IAAXA,IACFA,EAAS,MAGX,IAAIC,EAAOnB,EAAyCoB,IAAIH,GAExD,IAAKE,EACH,MAAM,IAAI/C,MAAM,yBAA4B6C,EAAc,MAG5D,IAAII,EAAgBN,EAAqCK,IAAID,GAE7D,QAAsB1C,IAAlB4C,EACF,MAAM,IAAIjD,MAAM,2BAA8B6C,EAAc,iBAI9D,OA7CuC,SAA4CtE,GACnF,MAAO,wCAA0CA,EA2CjC0H,CAAmChD,GO3FLiD,CAA6CrD,EAAaC,IACxG,OAAoB,IAAM3E,cAAc,MAAO,CAC7CI,UAAWyH,GACV1H,ICbM6H,EAA+B,wBAAc,CACtD3G,GAAI,GACJ4G,YAAY,EACZC,OAAQ,eAEC,EAAc,WACvB,OAAO,qBAAWF,ICHTG,EAAW,OAAAT,EAAA,IAAS,SAAUxH,GACvC,IAAImB,EAAKnB,EAAKmB,GAEVlB,GADaD,EAAK+H,WACP/H,EAAKC,UAGhBiH,EADwB,IACqBA,qBAE7C3B,EAAO2B,EAAqBgB,YAAY/G,GAE5C,IAAKoE,EACH,MAAM,IAAI5D,MAAM,yBAA4BR,EAAK,gBAOnD,OAAoB,IAAMrB,cAAcgI,EAAgBK,SAAU,CAChEC,MAAO,CACLjH,GAAIA,EACJ4G,WAAYxC,EAAKwC,WACjBC,OARS,WACX,OAAOd,EAAqBmB,WAAWlH,MASzB,IAAMrB,cAAc,MAAO,CACzCI,UAAW,WACX,cAAeqF,EAAKwC,WAAa,OAAS,SACzC9H,QC9B0C,WAC7C,SAASqI,KAcT,OAZAA,EAAqBC,cAAgB,SAAuBC,GAC1DF,EAAqBG,IAAIpC,IAAImC,EAAcrH,GAAIqH,IAGjDF,EAAqBI,gBAAkB,SAAyBF,GAC9DF,EAAqBG,IAAIE,OAAOH,EAAcrH,KAGhDmH,EAAqBM,iBAAmB,SAA0BzH,GAChE,OAAOmH,EAAqBG,IAAI9D,IAAIxD,IAG/BmH,EAfsC,IAiB1BG,IAAM,IAAIjF,IACxB,IAAIqF,EAAoC,wBAAc,CAC3D1H,GAAI,GACJ4G,YAAY,EACZC,OAAQ,eClBCc,EAAoB,OAAAtB,EAAA,IAAS,SAAUxH,GAChD,IAAIC,EAAWD,EAAKC,SAEhB8I,EAAkB,SAAyBX,GAC7C,OAAOA,EAAQ,OAAS,SAGtBY,EAAW,IACXR,EDaG,qBAAWK,GCXdI,EAAY,mBAASF,EAAgBC,EAASjB,aAC9C/G,EAAQiI,EAAU,GAClBC,EAAWD,EAAU,GAQzB,OANA,qBAAU,WACRC,EAASH,EAAgBC,EAASjB,eACjC,CAACiB,EAASjB,aACb,qBAAU,WACRiB,EAASjB,WAAaS,EAAcT,aACnC,CAACS,EAAcT,aACE,IAAMjI,cAAc,MAAO,CAC7CI,UAAW,sBACX,cAAec,GACdf,MCzBM,EAAO,SAAcD,GAC9B,IAAImJ,EAAQnJ,EAAKmJ,MACblJ,EAAWD,EAAKC,SAChB0H,EAAU,IAAG,OAAQ,cAAgBwB,GACzC,OAAoB,IAAMrJ,cAAc,MAAO,CAC7CI,UAAWyH,GACV1H,ICPM,EAAc,SAAqBD,GAC5C,IAAIC,EAAWD,EAAKC,SACpB,OAAoB,IAAMH,cAAc,MAAO,CAC7CI,UAAW,kBACVD,ICJM,EAAmB,SAA0BD,GACtD,IAAIqC,EAAQrC,EAAKqC,MACjB,OAAoB,IAAMvC,cAAc,OAAQ,CAC9CI,UAAW,wBACVmC,I,4DCCM,EAA4B,SAAmCrC,GACxE,IAAIoJ,EAAUpJ,EAAKoJ,QAGfC,EADiB,YAAc,IAAkBC,qBAC9B,GAEvB,OAAoB,IAAMxJ,cAAcyJ,EAAA,EAAY,CAClDrJ,UAAW,gFACXsJ,KAAM,IAAKC,GACXL,QAASA,GACK,IAAMtJ,cAAc,IAAa,CAC/CI,UAAW,oCACI,IAAMJ,cAAc4J,EAAA,EAAS,CAC5CC,SAAUD,EAAA,EAAgBE,cACzBP,EAAEQ,QAAQC,uBAAuBC,WClB3B,EAAkB,SAAyB/J,GACpD,IAAIgK,EAEAC,EAAWjK,EAAKiK,SAChB/J,EAAYF,EAAKE,UACjBD,EAAWD,EAAKC,SAChB0H,EAAU,IAAG,mBAAoBzH,IAAY8J,EAAM,IAAQ,kCAAoCC,EAAUD,IAC7G,OAAoB,IAAMlK,cAAc,MAAO,CAC7CI,UAAWyH,GACV1H,I,YCHM,EAAiB,SAAwBD,GAClD,IAAI+H,EAAa/H,EAAK+H,WAClBqB,EAAUpJ,EAAKoJ,QAGfC,EADiB,YAAc,IAAkBC,qBAC9B,GAEvB,OAAoB,IAAMxJ,cAAcyJ,EAAA,EAAY,CAClDrJ,UAAW,qEACXsJ,KAAM,IAAKC,GACXL,QAASA,GACK,IAAMtJ,cAAc,EAAiB,CACnDmK,UAAWlC,GACG,IAAMjI,cAAc,IAAkB,CACpDI,UAAW,+BACK,IAAMJ,cAAc4J,EAAA,EAAS,CAC7CC,SAAUD,EAAA,EAAgBE,cACZ,IAAM9J,cAAcoK,EAAA,EAAI,CACtCC,UAAWpC,GACVsB,EAAEQ,QAAQO,kBAAkBL,QAAQM,WAAyB,IAAMvK,cAAcoK,EAAA,EAAI,CACtFC,WAAYpC,GACXsB,EAAEQ,QAAQO,kBAAkBL,QAAQO,eCxB9BC,EAA4B,OAAA/C,EAAA,IAAS,SAAUxH,GACxD,YAA0BA,GAE1B,IAAIgJ,EAAW,IACf,OAAoB,IAAMlJ,cAAc,EAAgB,CACtDiI,WAAYiB,EAASjB,WACrBqB,QAASJ,EAAShB,YCVXwC,EAA+B,WACxC,SAASA,KAoBT,OAlBAA,EAAgB7D,OAAS,SAAgBxF,EAAI4G,GAC3C,IAAI0C,EAMJ,YAJmB,IAAf1C,IACFA,GAAa,GAGkD,QAAzD0C,EAAwBD,EAAgB/B,IAAI9D,IAAIxD,UAA2C,IAA1BsJ,EAAmCA,EAAwBD,EAAgB/B,IAAIpC,IAAIlF,EAAI,IAAI,EAASA,EAAI4G,IAAapD,IAAIxD,IAGpMqJ,EAAgBE,QAAU,SAAiBvJ,GACzC,OAAOqJ,EAAgB/B,IAAIE,OAAOxH,IAGpCqJ,EAAgBG,gBAAkB,SAAyBxJ,GACzD,OAAOqJ,EAAgB/B,IAAI9D,IAAIxD,IAG1BqJ,EArBiC,GAuB1CA,EAAgB/B,IAAM,IAAIjF,IACnB,IAAI,EAAW,SAAkBrC,EAAI4G,GAC1C,IAAIrH,EAAQE,UAEO,IAAfmH,IACFA,GAAa,GAGfnH,KAAKoH,OAAS,WACZtH,EAAMqH,YAAcrH,EAAMqH,YAG5BnH,KAAKO,GAAKA,EACVP,KAAKmH,WAAaA,GAEpB,YAAS,EAAU,CACjBA,WAAY,IACZC,OAAQ,MCtCH,IAAI,EAAgB,SAAuBhI,GAChD,IAAImB,EAAKnB,EAAKmB,GACV4G,EAAa/H,EAAK+H,WAClB9H,EAAWD,EAAKC,SACpB,OAAoB,IAAMH,cAAc+I,EAAqBV,SAAU,CACrEC,MAAOoC,EAAgB7D,OAAOxF,EAAI4G,IACjC9H,ICWM2K,EAAuB,OAAApD,EAAA,IAAS,SAAUxH,GACnD,YAA0BA,GAEL,YAAc,IAAkBsJ,qBAC9B,GADvB,IAGIuB,EAAwB,IACxB3D,EAAuB2D,EAAsB3D,qBAC7CE,EAAsByD,EAAsBzD,oBAKhD,SAAS0D,EAAYC,GACnB,OAAOA,EAAMA,EAAMrD,OAAS,GAW9B,IAAIsD,EAAU5D,EAAoBd,aAAaP,QAAO,SAAUkF,EAAoBhF,GAUlF,OAjBwB,IAQXgF,EARAvD,QAGf,SAA4BqD,EAAOG,GACjC,OAAOJ,EAAYC,GAAOtF,UAAYyF,EAAK1F,KAAKC,QAIZ0F,CAAmBF,EAAoBhF,GACzE6E,EAAYG,GAAoBG,MAAMlI,KAAK+C,GAE3CgF,EAAmB/H,KAAK,CACtBuC,QAASQ,EAAQT,KAAKC,QACtB2F,MAAO,CAACnF,KAILgF,IACN,IAAIxC,KAAI,SAAUyC,EAAMG,GACzB,IAAIC,EAAaJ,EAAKzF,QAAU,IAAM4F,EAClCD,EAAQF,EAAKE,MAAM3C,KAAI,SAAUlD,GACnC,IAAIgG,EAAkBrE,EAAqBgB,YAAY3C,EAAKpE,IAE5D,IAAKoK,EACH,MAAM,IAAI5J,MAAM,2BAA8B4D,EAAKpE,GAAK,gBAG1D,IAAIqK,EAAkBD,EAAgBlJ,MAClCmD,EAAO+F,EAAgB/F,KACvBiG,EAAQjG,EAAKiG,MACbC,EAAiBlG,EAAKmG,KACtBC,EAAYpG,EAAKoG,UACjBC,EAA8B,IAAM/L,cAAc,EAAa,KAAmB,IAAMA,cAAc,MAAO,CAC/GI,UAAW,0BACG,IAAMJ,cAAc,EAAkB,CACpDuC,MAAOmJ,EAAgBM,cACP,IAAMhM,cAAc,MAAO,CAC3CI,UAAW,4BACG,IAAMJ,cAAc,OAAM,CACxCI,UAAW,6BACX6L,GAAI,IAAYC,eAAeN,IAC9BD,IAAsB,IAAM3L,cAAc,MAAO,CAClDI,UAAW,2BACG,IAAMJ,cAAc,MAAO,CACzCI,UAAW,0BACG,IAAMJ,cAAc,EAA2B,CAC7DsJ,QAAS,eAGM,IAAMtJ,cAAcyK,EAA2B,SAC5D0B,EAAqBL,EAAUnD,KAAI,SAAU5I,EAAOqM,GACtD,IAAIC,EAAkBtM,EAAM8L,KACxBS,EAAWvM,EAAMuM,SACrB,OAAoB,IAAMtM,cAAc,EAAa,CACnDsF,IAAKoG,EAAkB,IAAMU,GACf,IAAMpM,cAAc,MAAO,CACzCI,UAAW,0BACG,IAAMJ,cAAc,EAAkB,CACpDuC,MAAOmJ,EAAgBM,WAAa,IAAMI,KAC1B,IAAMpM,cAAc,MAAO,CAC3CI,UAAW,4BACG,IAAMJ,cAAc,OAAM,CACxCI,UAAW,6BACX6L,GAAI,IAAYC,eAAeG,IAC9BC,IAAyB,IAAMtM,cAAc,MAAO,CACrDI,UAAW,2BACG,IAAMJ,cAAc,MAAO,CACzCI,UAAW,0BACG,IAAMJ,cAAc,EAA2B,CAC7DsJ,QAAS,qBAKb,OAAoB,IAAMtJ,cAAcmI,EAAU,CAChD7C,IAAKoG,EACLrK,GAAIqK,EAAgBM,YACN,IAAMhM,cAAc,EAAM,CACxCqJ,MAAO,GACN0C,GAA8B,IAAM/L,cAAcgJ,EAAmB,KAAmB,IAAMhJ,cAAc,EAAM,CACnHqJ,MAAO,GACN8C,QAEL,OAAoB,IAAMnM,cAAc,EAAgB,CACtDsF,IAAKkG,GACS,IAAMxL,cAAc,EAAqB,CACvD0E,YAAa0G,EAAKzF,UACH,IAAM3F,cAAc,EAAuB,CAC1D0E,YAAa0G,EAAKzF,SACjB2F,OAEL,OAAoB,IAAMtL,cAAc,OAAQ,CAC9CI,UAAW,+DACXoF,OAAQ8B,EAAoBpC,wBACd,IAAMlF,cAAc,EAAe,CACjDqB,GAAI,WACJ4G,YAAY,GACXiD,GAAuB,IAAMlL,cAAcyH,EAAuB,U,aC5H5D8E,GAAuB,OAAA7E,EAAA,IAAS,SAAUxH,GACnD,IAAIE,EAAYF,EAAKE,UAIjBmJ,GAHkBrJ,EAAKsM,gBAEN,YAAc,IAAkBhD,qBAC9B,IAGnBpC,EADwB,IACqBA,qBAE7CS,EAAU,IAAG,0BAA2BzH,GAC5C,OAAoB,IAAMJ,cAAcyJ,EAAA,EAAY,CAClDrJ,UAAWyH,EACX6B,KAAM,IAAKC,GACXL,QAAS,WACP,OAAOlC,EAAqBqF,gBAEhB,IAAMzM,cAAc,EAAiB,CACnDmK,UAAW/C,EAAqBsF,eAClB,IAAM1M,cAAc,IAAkB,OAAqB,IAAMA,cAAc4J,EAAA,EAAS,CACtGC,SAAUD,EAAA,EAAgBE,cACZ,IAAM9J,cAAcoK,EAAA,EAAI,CACtCC,UAAWjD,EAAqBsF,eAC/BnD,EAAEoD,oBAAoBC,qBAAqB3C,QAAQM,WAAyB,IAAMvK,cAAcoK,EAAA,EAAI,CACrGC,WAAYjD,EAAqBsF,eAChCnD,EAAEoD,oBAAoBC,qBAAqB3C,QAAQO,iB,uCChC7C,GAAa,SAAoBtK,GAC1C,IAAIyF,EAAUzF,EAAKyF,QACfP,EAAoBlF,EAAKkF,kBACzBhF,EAAYF,EAAKE,UACjBD,EAAWD,EAAKC,SAChBmJ,EAAUpJ,EAAKoJ,QAGf3E,EADiB,cACO,GAAGgD,KAE3BE,EAAU,IAAG,gBAAiBzH,EAAWqE,EAAyCkB,EAAShB,IAC/F,OAAoB,IAAM3E,cAAc,MAAO,CAC7CI,UAAWyH,EACXyB,QAASA,GACK,IAAMtJ,cAAc,MAAO,CACzCI,UAAW,iCACVgF,GAAiC,IAAMpF,cAAc,MAAO,CAC7DI,UAAW,uBACG,IAAMJ,cAAc,OAAQ,KAAMG,M,8ECrB7C,SAAS0M,KACd,MAAsB,mBAAXC,QAA0BA,OAAOC,SAIrCD,OAAOC,SAHL,aAKJ,IAAI,GAAwBF,K,8BCExB,GAAc,SAAqB3G,GAC5C,GAAMA,GAA+C,mBAA9BA,EAAO,MAC5B,OCV8D8G,EDUjC9G,ECTxB,SAAU+G,GACf,IAAIC,EAAMF,EAAI,QAEd,GAA6B,mBAAlBE,EAAIC,UACb,MAAM,IAAIC,UAAU,kEAEpB,OAAOF,EAAIC,UAAUF,IDIlB,IEZqCI,EFYrBnH,IEXS,iBAAbmH,EAAEzF,QAAoC,mBAANyF,EFYjD,OGboDpC,EHa5B/E,EGZnB,SAAU+G,GACf,IAAK,IAAIK,EAAI,EAAGC,EAAMtC,EAAMrD,OAAQ0F,EAAIC,IAAQN,EAAW7L,OAAQkM,IACjEL,EAAWO,KAAKvC,EAAMqC,IAGxBL,EAAWQ,YHQN,GIdF,SAAmBnF,GACxB,QAASA,GAAoC,mBAApBA,EAAM6E,WAAkD,mBAAf7E,EAAMoF,KJa7DC,CAAUzH,GACnB,OKdwD0H,ELc9B1H,EKbrB,SAAU+G,GASf,OARAW,EAAQF,MAAK,SAAUpF,GAChB2E,EAAW7L,SACd6L,EAAWO,KAAKlF,GAChB2E,EAAWQ,eAEZ,SAAUI,GACX,OAAOZ,EAAWnL,MAAM+L,MACvBH,KAAK,KAAMI,GAAA,GACPb,GLKF,GAAM/G,GAA6C,mBAA5BA,EAAO,IACnC,OMhB0D6H,ENgB/B7H,EMftB,SAAU+G,GAGf,IAFA,IAAIF,EAAWgB,EAAS,QAErB,CACD,IAAI3C,OAAO,EAEX,IACEA,EAAO2B,EAASS,OAChB,MAAOK,GAEP,OADAZ,EAAWnL,MAAM+L,GACVZ,EAGT,GAAI7B,EAAK4C,KAAM,CACbf,EAAWQ,WACX,MAKF,GAFAR,EAAWO,KAAKpC,EAAK9C,OAEjB2E,EAAW7L,OACb,MAYJ,MAR+B,mBAApB2L,EAASkB,QAClBhB,EAAWiB,KAAI,WACTnB,EAASkB,QACXlB,EAASkB,YAKRhB,GNhBP,IMlB0Dc,EDAFH,EFDJ3C,EDAVoC,EDCoBL,EDkB1D1E,EAAQ,OAAA6F,GAAA,GAASjI,GAAU,oBAAsB,IAAMA,EAAS,IAEpE,MAAM,IAAIkH,UADA,gBAAkB9E,EAAlB,8FOfV,GAAqC,SAAU9H,GAGjD,SAAS4N,EAAsBC,GAC7B,IAAIzN,EAAQJ,EAAOK,KAAKC,OAASA,KAGjC,OADAF,EAAMyN,OAASA,EACRzN,EAiBT,OAvBA,KAAkBwN,EAAuB5N,GASzC4N,EAAsBpN,UAAUsN,MAAQ,SAAUhG,GAChDxH,KAAKuN,OAAOE,WAAWjG,IAGzB8F,EAAsBpN,UAAUwN,OAAS,SAAU1M,GACjDhB,KAAKuN,OAAOI,YAAY3M,GACxBhB,KAAKsB,eAGPgM,EAAsBpN,UAAU0N,UAAY,WAC1C5N,KAAKuN,OAAOM,iBACZ7N,KAAKsB,eAGAgM,EAxBgC,CAyBvCQ,GAAA,GAmCE,IAJFA,GAAA,EAIuC,SAAUpO,GAGjD,SAASqO,IACP,OAAkB,OAAXrO,GAAmBA,EAAOsO,MAAMhO,KAAMiO,YAAcjO,KAe7D,OAlBA,KAAkB+N,EAAuBrO,GAMzCqO,EAAsB7N,UAAUuN,WAAa,SAAUS,GACrDlO,KAAKmO,YAAYzB,KAAKwB,IAGxBH,EAAsB7N,UAAUyN,YAAc,SAAUZ,GACtD/M,KAAKmO,YAAYnN,MAAM+L,IAGzBgB,EAAsB7N,UAAU2N,eAAiB,WAC/C7N,KAAKmO,YAAYxB,YAGZoB,EAnBgC,CAoBvCD,GAAA,IAwBAA,GAAA,ECrGF,IAAIM,GAA6B,WAC/B,SAASA,EAAcC,GACrBrO,KAAKqO,iBAAmBA,EAO1B,OAJAD,EAAclO,UAAUH,KAAO,SAAUoM,EAAYmC,GACnD,OAAOA,EAAOjC,UAAU,IAAI,GAAgBF,EAAYnM,KAAKqO,oBAGxDD,EATwB,GAY7B,GAA+B,SAAU1O,GAG3C,SAAS6O,EAAgBJ,EAAaE,GACpC,IAAIvO,EAAQJ,EAAOK,KAAKC,KAAMmO,IAAgBnO,KAI9C,OAFAF,EAAMuO,iBAAmBA,EACzBvO,EAAM0O,UAAW,EACV1O,EAsDT,OA7DA,KAAkByO,EAAiB7O,GAUnC6O,EAAgBrO,UAAUsN,MAAQ,SAAUhG,GAI1C,GAHAxH,KAAKwH,MAAQA,EACbxH,KAAKwO,UAAW,GAEXxO,KAAKyO,UAAW,CACnB,IAAIC,OAAW,EAEf,IAEEA,GAAWL,EADYrO,KAAKqO,kBACA7G,GAC5B,MAAOuF,GACP,OAAO/M,KAAKmO,YAAYnN,MAAM+L,GAGhC,IAAI4B,EDmEH,SAAwBvJ,EAAQwJ,GACrC,IAAIA,EAAgBtO,OAIpB,OAAI8E,aAAkByJ,GAAA,EACbzJ,EAAOiH,UAAUuC,GAGnB,GAAYxJ,EAAZ,CAAoBwJ,GC5ECE,CAAeJ,EAAU,IAAI,GAAsB1O,QAEtE2O,GAAqBA,EAAkBrO,OAC1CN,KAAK+O,gBAEL/O,KAAKoN,IAAIpN,KAAKyO,UAAYE,KAKhCJ,EAAgBrO,UAAU6O,cAAgB,WACxC,IACIvH,EADKxH,KACMwH,MACXgH,EAFKxO,KAESwO,SACdC,EAHKzO,KAGUyO,UAEfA,IACFzO,KAAKgP,OAAOP,GACZzO,KAAKyO,eAAYrN,EACjBqN,EAAUnN,eAGRkN,IACFxO,KAAKwH,WAAQpG,EACbpB,KAAKwO,UAAW,EAChBxO,KAAKmO,YAAYzB,KAAKlF,KAI1B+G,EAAgBrO,UAAUuN,WAAa,WACrCzN,KAAK+O,iBAGPR,EAAgBrO,UAAU2N,eAAiB,WACzC7N,KAAK+O,iBAGAR,EA9D0B,CA+DjC,I,aClFK,SAASU,GAAUC,GACxB,OAAQ,OAAAC,GAAA,GAAQD,IAAQA,EAAME,WAAWF,GAAO,GAAK,ECFhD,SAASG,GAAY7H,GAC1B,OAAOA,GAAmC,mBAAnBA,EAAMrH,SC8B/B,SAASmP,GAASlP,GAChB,IAAIqB,EAAQrB,EAAMqB,MACd8N,EAASnP,EAAMmP,OACfpD,EAAa/L,EAAM+L,WAGvB,GAFAA,EAAWO,KAAKjL,IAEZ0K,EAAW7L,OAAf,CAEO,IAAgB,IAAZiP,EACT,OAAOpD,EAAWQ,WAGpBvM,EAAMqB,MAAQA,EAAQ,EACtBzB,KAAKG,SAASC,EAAOmP,ICzChB,SAASC,GAAUd,EAAU9O,GAKlC,YAJkB,IAAdA,IACFA,EAAY,MJHMyO,EIMP,WACX,ODLG,SAAeoB,EAASC,EAAmB9P,QAChC,IAAZ6P,IACFA,EAAU,GAGZ,IAAIF,GAAU,EAYd,OAVIN,GAAUS,GACZH,EAASI,OAAOD,GAAqB,EAAK,EAAKC,OAAOD,GAC7CL,GAAYK,KACrB9P,EAAY8P,GAGTL,GAAYzP,KACfA,EAAY,MAGP,IAAIiP,GAAA,GAAW,SAAU1C,GAC9B,IAAIyD,EAAMX,GAAUQ,GAAWA,GAAWA,EAAU7P,EAAUmC,MAC9D,OAAOnC,EAAUO,SAASmP,GAAUM,EAAK,CACvCnO,MAAO,EACP8N,OAAQA,EACRpD,WAAYA,OCjBP0D,CAAMnB,EAAU9O,IJNlB,SAA+B0O,GACpC,OAAOA,EAAOwB,KAAK,IAAI1B,GAAcC,KAFlC,IAAeA,EKFf,SAAS0B,M,iBCUhB,IAAIC,GAA0B,WAC5B,SAASA,EAAWC,EAAgBjP,EAAO2L,GACzC3M,KAAKiQ,eAAiBA,EACtBjQ,KAAKgB,MAAQA,EACbhB,KAAK2M,SAAWA,EAOlB,OAJAqD,EAAW9P,UAAUH,KAAO,SAAUoM,EAAYmC,GAChD,OAAOA,EAAOjC,UAAU,IAAI,GAAcF,EAAYnM,KAAKiQ,eAAgBjQ,KAAKgB,MAAOhB,KAAK2M,YAGvFqD,EAXqB,GAc1B,GAA6B,SAAUtQ,GAGzC,SAASwQ,EAAc/B,EAAagC,EAAgBnP,EAAO2L,GACzD,IAAI7M,EAAQJ,EAAOK,KAAKC,KAAMmO,IAAgBnO,KAkB9C,OAhBAF,EAAMsQ,SAAWL,GACjBjQ,EAAMuQ,UAAYN,GAClBjQ,EAAMwQ,aAAeP,GACrBjQ,EAAMuQ,UAAYrP,GAAS+O,GAC3BjQ,EAAMwQ,aAAe3D,GAAYoD,GAE7B,OAAAQ,GAAA,GAAWJ,IACbrQ,EAAM0Q,SAAW1Q,EACjBA,EAAMsQ,SAAWD,GACRA,IACTrQ,EAAM0Q,SAAWL,EACjBrQ,EAAMsQ,SAAWD,EAAezD,MAAQqD,GACxCjQ,EAAMuQ,UAAYF,EAAenP,OAAS+O,GAC1CjQ,EAAMwQ,aAAeH,EAAexD,UAAYoD,IAG3CjQ,EAoCT,OAzDA,KAAkBoQ,EAAexQ,GAwBjCwQ,EAAchQ,UAAUsN,MAAQ,SAAUhG,GACxC,IACExH,KAAKoQ,SAASrQ,KAAKC,KAAKwQ,SAAUhJ,GAClC,MAAOuF,GAEP,YADA/M,KAAKmO,YAAYnN,MAAM+L,GAIzB/M,KAAKmO,YAAYzB,KAAKlF,IAGxB0I,EAAchQ,UAAUwN,OAAS,SAAUX,GACzC,IACE/M,KAAKqQ,UAAUtQ,KAAKC,KAAKwQ,SAAUzD,GACnC,MAAOA,GAEP,YADA/M,KAAKmO,YAAYnN,MAAM+L,GAIzB/M,KAAKmO,YAAYnN,MAAM+L,IAGzBmD,EAAchQ,UAAU0N,UAAY,WAClC,IACE5N,KAAKsQ,aAAavQ,KAAKC,KAAKwQ,UAC5B,MAAOzD,GAEP,YADA/M,KAAKmO,YAAYnN,MAAM+L,GAIzB,OAAO/M,KAAKmO,YAAYxB,YAGnBuD,EA1DwB,CA2D/BpC,GAAA,GC3ES,GAAgB,SAAuB1O,GAChD,YAA0BA,GAE1B,IACIqJ,EADiB,YAAc,IAAkBC,qBAC9B,GAEnBuB,EAAwB,IAExBzD,GADuByD,EAAsB3D,qBACvB2D,EAAsBzD,qBAC5CJ,EAAiB6D,EAAsB7D,eAEvCqK,EAAmB,iBAAO,CAC5BC,aAAc,KACdC,cAAe,OAEjB,qBAAU,WDnBL,IAAaV,EAAgBjP,EAAO2L,ECoBvC8D,EAAiBpL,QAAQqL,aAAe,IAAIE,GAAA,EAC5CH,EAAiBpL,QAAQsL,cAAgBF,EAAiBpL,QAAQqL,aAAaG,KAAKrB,GAlBhD,MDHpBS,ECqBsH,SAAUrM,GAC9IkN,OAAOC,SAASD,OAAOE,QAAS,GAChC5K,EAAe6K,QAEK,KAAhBrN,EACF4C,EAAoBxB,UAEpBwB,EAAoBzB,kBAAkBnB,ID3BrC,SAA6B0K,GAClC,OAAOA,EAAOwB,KAAK,IAAIE,GAAWC,EAAgBjP,EAAO2L,OC6BzD,IAAIuE,EAA4BT,EAAiBpL,QAAQsL,cAActE,YACvE,OAAO,WACL6E,EAA0B5P,iBAE3B,IAEH,IAYI6P,EAAoB3K,EAAoBrC,KAAKgB,QAAO,SAAUC,EAAQC,GACxE,OAAOD,EAAOgI,IAAI/H,EAAQT,KAAKC,WAC9B,IAAIuM,KAIHC,EAHwBC,MAAMC,KAAKJ,GAAmBK,MAAK,SAAUC,EAAGC,GAC1E,OAAOD,EAAEE,WAAW,GAAKD,EAAEC,WAAW,MAEE9J,KAAI,SAAUjE,EAAanC,GACnE,OAAoB,IAAMvC,cAAc,GAAY,CAClDsF,IAAK/C,EACLoD,QAASjB,EACTU,kBAAmBkC,EAAoBvB,qBAAqBrB,GAC5D4E,QAAS,WACP,OAxBoB,SAA6B5E,GACrD,IAAIgO,EAEJ,OAA2E,QAAnEA,EAAwBnB,EAAiBpL,QAAQqL,oBAAoD,IAA1BkB,OAAmC,EAASA,EAAsBlF,KAAK9I,GAqB/IiO,CAAoBjO,KAE5BA,MAEL,OAAoB,IAAM1E,cAAc,MAAO,CAC7CI,UAAW,qBACG,IAAMJ,cAAc,MAAO,CACzCI,UAAW,2CACXkJ,QA1BgB,WAChB,IAAIsJ,EAEJ,OAA4E,QAApEA,EAAyBrB,EAAiBpL,QAAQqL,oBAAqD,IAA3BoB,OAAoC,EAASA,EAAuBpF,KAAK,MAwB5JjE,EAAEsJ,YAAYC,OAAOC,mBAAoBZ,ICjEnC,GAAwB,WACjC,IACI5I,EADiB,YAAc,IAAkBC,qBAC9B,GAEvB,OAAoB,IAAMxJ,cAAcgT,GAAA,EAAU,CAChD5S,UAAW,sCACG,IAAMJ,cAAciT,GAAA,EAAgB,KAAmB,IAAMjT,cAAcyJ,EAAA,EAAY,CACrGC,KAAM,IAAKC,IACG,IAAM3J,cAAc,IAAmB,MAAoB,IAAMA,cAAc4J,EAAA,EAAS,CACtGC,SAAUD,EAAA,EAAgBE,cACzBP,EAAEoD,oBAAoBuG,gBAAgBjJ,WAAyB,IAAMjK,cAAcmT,GAAA,EAAc,CAClG/S,UAAW,oFACXgT,cAAe,mCACfC,eAAgB,qCACF,IAAMrT,cAAc,MAAO,CACzCI,UAAW,iCACG,IAAMJ,cAAc,SAAU,CAC5CI,UAAW,gBACG,IAAMJ,cAAc,OAAQ,CAC1CI,UAAW,sBACV,oBAAwG,IAAMJ,cAAc,MAAO,CACpII,UAAW,iBACG,IAAMJ,cAAc,MAAO,CACzCI,UAAW,kBACG,IAAMJ,cAAc,GAAe,Y,aC5B1C,GAAyB,WAClC,IACIuJ,EADiB,YAAc,IAAkBC,qBAC9B,GAEvB,OAAoB,IAAMxJ,cAAcC,GAAA,EAAmB,KAAmB,IAAMD,cAAc,MAAO,CACvGI,UAAW,8BACG,IAAMJ,cAAc,OAAQ,CAC1CI,UAAW,qCACVmJ,EAAEoD,oBAAoB2G,OAAqB,IAAMtT,cAAc,MAAO,CACvEI,UAAW,uCACG,IAAMJ,cAAc,MAAO,CACzCI,UAAW,4CACG,IAAMJ,cAAc,GAAuB,OAAqB,IAAMA,cAAc,MAAO,CACzGI,UAAW,4CACG,IAAMJ,cAAcuM,GAAsB,CACxDnM,UAAW,yBACXoM,gBAAiB,kB,aCDN,GAZG,SAAqBtM,GAGrC,OAFA,YAA0BA,GAEN,IAAMF,cAAcuT,EAAA,EAAyB,CAC/DC,OAAqB,IAAMxT,cAAcF,GAAA,EAA2B,MACpES,QAAsB,IAAMP,cAAcK,GAAA,EAAe,CACvDC,WAAyB,IAAMN,cAAc,GAAwB,MACrEO,QAAsB,IAAMP,cAAc8K,EAAsB,W,uCCmBvD,UA1BW,SAA6B5K,GACrD,IAAIuT,EAAcvT,EAAKuT,YACnB1M,EAAW7G,EAAK6G,SAChBD,EAAc2M,EAAY3M,YAC1B4M,EAAeD,EAAYC,aAC3BC,EAAYlN,EAAqBC,YAAY,CAC/CI,YAAaA,EACbC,SAAUA,IAERC,EAAS2M,EAAU3M,OAMvB,OALA,2BAAgB,WACd4M,QAAQC,IAAI9M,GACZC,EAAO8M,YAAY/M,KAClB,IAEiB,IAAM/G,cAAcwH,EAAuBa,SAAU,CACvEC,MAAOqL,GACO,IAAM3T,cAAcJ,GAAA,EAA4ByI,SAAU,CACxEC,MAAOqL,EAAUpM,2BACH,IAAMvH,cAAc,IAAaqI,SAAU,CACzDC,MAAOoL,GACO,IAAM1T,cAAciH,EAAA,EAAmBoB,SAAU,CAC/DC,MAAOqL,EAAU3M,QACH,IAAMhH,cAAc+T,GAAA,EAAY,KAAmB,IAAM/T,cAAc,KAAK,MAAoB,IAAMA,cAAc,GAAa","file":"component---src-page-templates-book-toc-page-book-toc-page-provider-tsx-fac679fdee6efc9afdb3.js","sourcesContent":["import { createContext, useContext } from \"react\";\nexport var BehaviorNotificationContext = /*#__PURE__*/createContext(null);\nexport var useBehaviorNotification = function useBehaviorNotification() {\n  return useContext(BehaviorNotificationContext);\n};","import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport React from \"react\";\nimport { AppDriver } from \"../app-driver/AppDriver\";\nimport { default as cn } from \"classnames\";\nimport { FooterAppDriver } from \"../app-driver__footer/FooterAppDriver\";\nimport { Link } from \"gatsby\";\nimport { observer } from \"mobx-react-lite\";\nimport { AppNavSectionAppDriver } from \"../app-driver__nav-section_app-nav/AppNavSectionAppDriver\";\nexport var LinkAppDriver = function LinkAppDriver(_ref) {\n  var _cn;\n\n  var path = _ref.path,\n      name = _ref.name,\n      isActive = _ref.isActive,\n      activeClassName = _ref.activeClassName,\n      _ref$disabled = _ref.disabled,\n      disabled = _ref$disabled === void 0 ? false : _ref$disabled;\n  var classes = cn(\"app-driver__link\", (_cn = {}, _cn[activeClassName] = isActive, _cn[\"app-driver__link_disabled\"] = disabled, _cn));\n  var linkProps = {\n    className: classes\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app-driver__list-item\"\n  }, /*#__PURE__*/React.createElement(Link, {\n    className: \"app-driver__list-item\",\n    to: path,\n    getProps: function getProps() {\n      return linkProps;\n    }\n  }, name));\n};\nexport var WhatIsNewTocPageAppDriver = observer(function (_ref2) {\n  _objectDestructuringEmpty(_ref2);\n\n  return /*#__PURE__*/React.createElement(AppDriver, null, /*#__PURE__*/React.createElement(AppNavSectionAppDriver, null), /*#__PURE__*/React.createElement(FooterAppDriver, null));\n});","import React from \"react\";\nexport var ControlBarContent = function ControlBarContent(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content__control-bar\"\n  }, children);\n};","import React from \"react\";\nexport var ContentLayout = function ContentLayout(_ref) {\n  var controlBar = _ref.controlBar,\n      content = _ref.content;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-layout\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-layout__control-bar\"\n  }, controlBar), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-layout__content\"\n  }, content));\n};","/** PURE_IMPORTS_START tslib,_Action PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Action } from './Action';\n\nvar AsyncAction = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(AsyncAction, _super);\n\n  function AsyncAction(scheduler, work) {\n    var _this = _super.call(this, scheduler, work) || this;\n\n    _this.scheduler = scheduler;\n    _this.work = work;\n    _this.pending = false;\n    return _this;\n  }\n\n  AsyncAction.prototype.schedule = function (state, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    if (this.closed) {\n      return this;\n    }\n\n    this.state = state;\n    var id = this.id;\n    var scheduler = this.scheduler;\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, delay);\n    }\n\n    this.pending = true;\n    this.delay = delay;\n    this.id = this.id || this.requestAsyncId(scheduler, this.id, delay);\n    return this;\n  };\n\n  AsyncAction.prototype.requestAsyncId = function (scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    return setInterval(scheduler.flush.bind(scheduler, this), delay);\n  };\n\n  AsyncAction.prototype.recycleAsyncId = function (scheduler, id, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    if (delay !== null && this.delay === delay && this.pending === false) {\n      return id;\n    }\n\n    clearInterval(id);\n    return undefined;\n  };\n\n  AsyncAction.prototype.execute = function (state, delay) {\n    if (this.closed) {\n      return new Error('executing a cancelled action');\n    }\n\n    this.pending = false;\n\n    var error = this._execute(state, delay);\n\n    if (error) {\n      return error;\n    } else if (this.pending === false && this.id != null) {\n      this.id = this.recycleAsyncId(this.scheduler, this.id, null);\n    }\n  };\n\n  AsyncAction.prototype._execute = function (state, delay) {\n    var errored = false;\n    var errorValue = undefined;\n\n    try {\n      this.work(state);\n    } catch (e) {\n      errored = true;\n      errorValue = !!e && e || new Error(e);\n    }\n\n    if (errored) {\n      this.unsubscribe();\n      return errorValue;\n    }\n  };\n\n  AsyncAction.prototype._unsubscribe = function () {\n    var id = this.id;\n    var scheduler = this.scheduler;\n    var actions = scheduler.actions;\n    var index = actions.indexOf(this);\n    this.work = null;\n    this.state = null;\n    this.pending = false;\n    this.scheduler = null;\n\n    if (index !== -1) {\n      actions.splice(index, 1);\n    }\n\n    if (id != null) {\n      this.id = this.recycleAsyncId(scheduler, id, null);\n    }\n\n    this.delay = null;\n  };\n\n  return AsyncAction;\n}(Action);\n\nexport { AsyncAction };","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from '../Subscription';\n\nvar Action = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(Action, _super);\n\n  function Action(scheduler, work) {\n    return _super.call(this) || this;\n  }\n\n  Action.prototype.schedule = function (state, delay) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    return this;\n  };\n\n  return Action;\n}(Subscription);\n\nexport { Action };","var Scheduler = /*@__PURE__*/function () {\n  function Scheduler(SchedulerAction, now) {\n    if (now === void 0) {\n      now = Scheduler.now;\n    }\n\n    this.SchedulerAction = SchedulerAction;\n    this.now = now;\n  }\n\n  Scheduler.prototype.schedule = function (work, delay, state) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    return new this.SchedulerAction(this, work).schedule(state, delay);\n  };\n\n  Scheduler.now = function () {\n    return Date.now();\n  };\n\n  return Scheduler;\n}();\n\nexport { Scheduler };","/** PURE_IMPORTS_START _AsyncAction,_AsyncScheduler PURE_IMPORTS_END */\nimport { AsyncAction } from './AsyncAction';\nimport { AsyncScheduler } from './AsyncScheduler';\nexport var asyncScheduler = /*@__PURE__*/new AsyncScheduler(AsyncAction);\nexport var async = asyncScheduler;","/** PURE_IMPORTS_START tslib,_Scheduler PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Scheduler } from '../Scheduler';\n\nvar AsyncScheduler = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(AsyncScheduler, _super);\n\n  function AsyncScheduler(SchedulerAction, now) {\n    if (now === void 0) {\n      now = Scheduler.now;\n    }\n\n    var _this = _super.call(this, SchedulerAction, function () {\n      if (AsyncScheduler.delegate && AsyncScheduler.delegate !== _this) {\n        return AsyncScheduler.delegate.now();\n      } else {\n        return now();\n      }\n    }) || this;\n\n    _this.actions = [];\n    _this.active = false;\n    _this.scheduled = undefined;\n    return _this;\n  }\n\n  AsyncScheduler.prototype.schedule = function (work, delay, state) {\n    if (delay === void 0) {\n      delay = 0;\n    }\n\n    if (AsyncScheduler.delegate && AsyncScheduler.delegate !== this) {\n      return AsyncScheduler.delegate.schedule(work, delay, state);\n    } else {\n      return _super.prototype.schedule.call(this, work, delay, state);\n    }\n  };\n\n  AsyncScheduler.prototype.flush = function (action) {\n    var actions = this.actions;\n\n    if (this.active) {\n      actions.push(action);\n      return;\n    }\n\n    var error;\n    this.active = true;\n\n    do {\n      if (error = action.execute(action.state, action.delay)) {\n        break;\n      }\n    } while (action = actions.shift());\n\n    this.active = false;\n\n    if (error) {\n      while (action = actions.shift()) {\n        action.unsubscribe();\n      }\n\n      throw error;\n    }\n  };\n\n  return AsyncScheduler;\n}(Scheduler);\n\nexport { AsyncScheduler };","var BookChapterSectionRuName;\n\n(function (BookChapterSectionRuName) {\n  BookChapterSectionRuName[\"Common\"] = \"\\u041E\\u0431\\u0449\\u0435\\u0435\";\n  BookChapterSectionRuName[\"TypingIntroduction\"] = \"\\u042D\\u043A\\u0441\\u043A\\u0443\\u0440\\u0441 \\u0432 \\u0442\\u0438\\u043F\\u0438\\u0437\\u0430\\u0446\\u0438\\u044E\";\n  BookChapterSectionRuName[\"SyntacticConstruction\"] = \"\\u0421\\u0438\\u043D\\u0442\\u0430\\u043A\\u0441\\u0438\\u0447\\u0435\\u0441\\u043A\\u0438\\u0435 \\u043A\\u043E\\u043D\\u0441\\u0442\\u0440\\u0443\\u043A\\u0446\\u0438\\u0438\";\n  BookChapterSectionRuName[\"Types\"] = \"\\u0422\\u0438\\u043F\\u044B\";\n  BookChapterSectionRuName[\"TypescriptFeatures\"] = \"\\u0422\\u043E\\u043D\\u043A\\u043E\\u0441\\u0442\\u0438 TypeScript\";\n  BookChapterSectionRuName[\"WorkingWithTypes\"] = \"\\u0420\\u0430\\u0431\\u043E\\u0442\\u0430 \\u0441 \\u0442\\u0438\\u043F\\u0430\\u043C\\u0438\";\n  BookChapterSectionRuName[\"Typing\"] = \"\\u0422\\u0438\\u043F\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\";\n  BookChapterSectionRuName[\"ExtendedTypes\"] = \"\\u0420\\u0430\\u0441\\u0448\\u0438\\u0440\\u0435\\u043D\\u043D\\u044B\\u0435 \\u0442\\u0438\\u043F\\u044B\";\n  BookChapterSectionRuName[\"React\"] = \"React\";\n  BookChapterSectionRuName[\"Assembly\"] = \"\\u0421\\u0431\\u043E\\u0440\\u043A\\u0430\";\n  BookChapterSectionRuName[\"Compiler\"] = \"\\u041A\\u043E\\u043C\\u043F\\u0438\\u043B\\u044F\\u0442\\u043E\\u0440\";\n  BookChapterSectionRuName[\"Classes\"] = \"\\u041A\\u043B\\u0430\\u0441\\u0441\\u044B\";\n  BookChapterSectionRuName[\"All\"] = \"all\";\n})(BookChapterSectionRuName || (BookChapterSectionRuName = {}));\n\nvar BookChapterSectionType;\n\n(function (BookChapterSectionType) {\n  BookChapterSectionType[\"Common\"] = \"common\";\n  BookChapterSectionType[\"TypingIntroduction\"] = \"typingIntroduction\";\n  BookChapterSectionType[\"SyntacticConstruction\"] = \"syntacticConstruction\";\n  BookChapterSectionType[\"Types\"] = \"types\";\n  BookChapterSectionType[\"TypescriptFeatures\"] = \"typescriptFeatures\";\n  BookChapterSectionType[\"WorkingWithTypes\"] = \"workingWithTypes\";\n  BookChapterSectionType[\"Typing\"] = \"typing\";\n  BookChapterSectionType[\"ExtendedTypes\"] = \"extendedTypes\";\n  BookChapterSectionType[\"React\"] = \"react\";\n  BookChapterSectionType[\"Assembly\"] = \"assembly\";\n  BookChapterSectionType[\"Compiler\"] = \"compiler\";\n  BookChapterSectionType[\"Classes\"] = \"classes\";\n  BookChapterSectionType[\"All\"] = \"all\";\n})(BookChapterSectionType || (BookChapterSectionType = {}));\n\nvar BookChapterSectionStyleName;\n\n(function (BookChapterSectionStyleName) {\n  BookChapterSectionStyleName[\"Common\"] = \"common\";\n  BookChapterSectionStyleName[\"TypingIntroduction\"] = \"typing-introduction\";\n  BookChapterSectionStyleName[\"SyntacticConstruction\"] = \"syntactic-construction\";\n  BookChapterSectionStyleName[\"Types\"] = \"types\";\n  BookChapterSectionStyleName[\"TypescriptFeatures\"] = \"typescript-features\";\n  BookChapterSectionStyleName[\"WorkingWithTypes\"] = \"working-with-types\";\n  BookChapterSectionStyleName[\"Typing\"] = \"typing\";\n  BookChapterSectionStyleName[\"ExtendedTypes\"] = \"extended-types\";\n  BookChapterSectionStyleName[\"React\"] = \"react\";\n  BookChapterSectionStyleName[\"Assembly\"] = \"assembly\";\n  BookChapterSectionStyleName[\"Compiler\"] = \"compiler\";\n  BookChapterSectionStyleName[\"Classes\"] = \"classes\";\n  BookChapterSectionStyleName[\"All\"] = \"\";\n})(BookChapterSectionStyleName || (BookChapterSectionStyleName = {}));\n\nvar toFullClassNameWithBgColorAttr = function toFullClassNameWithBgColorAttr(className) {\n  return \"book-toc__section-color_bg-color_\" + className;\n};\n\nvar toFullClassNameWithBorderColorAttr = function toFullClassNameWithBorderColorAttr(className) {\n  return \"book-toc__section-color_border-color_\" + className;\n};\n\nexport var BookChapterSectionRuNameToSectionTypeMap = new Map([[BookChapterSectionRuName.Common, BookChapterSectionType.Common], [BookChapterSectionRuName.TypingIntroduction, BookChapterSectionType.TypingIntroduction], [BookChapterSectionRuName.SyntacticConstruction, BookChapterSectionType.SyntacticConstruction], [BookChapterSectionRuName.Types, BookChapterSectionType.Types], [BookChapterSectionRuName.TypescriptFeatures, BookChapterSectionType.TypescriptFeatures], [BookChapterSectionRuName.WorkingWithTypes, BookChapterSectionType.WorkingWithTypes], [BookChapterSectionRuName.Typing, BookChapterSectionType.Typing], [BookChapterSectionRuName.ExtendedTypes, BookChapterSectionType.ExtendedTypes], [BookChapterSectionRuName.React, BookChapterSectionType.React], [BookChapterSectionRuName.Assembly, BookChapterSectionType.Assembly], [BookChapterSectionRuName.Compiler, BookChapterSectionType.Compiler], [BookChapterSectionRuName.Classes, BookChapterSectionType.Classes], [BookChapterSectionRuName.All, BookChapterSectionType.All]]);\nexport var BookChapterSectionTypeToClassNameMap = new Map([[BookChapterSectionType.Common, BookChapterSectionStyleName.Common], [BookChapterSectionType.TypingIntroduction, BookChapterSectionStyleName.TypingIntroduction], [BookChapterSectionType.SyntacticConstruction, BookChapterSectionStyleName.SyntacticConstruction], [BookChapterSectionType.Types, BookChapterSectionStyleName.Types], [BookChapterSectionType.TypescriptFeatures, BookChapterSectionStyleName.TypescriptFeatures], [BookChapterSectionType.WorkingWithTypes, BookChapterSectionStyleName.WorkingWithTypes], [BookChapterSectionType.Typing, BookChapterSectionStyleName.Typing], [BookChapterSectionType.ExtendedTypes, BookChapterSectionStyleName.ExtendedTypes], [BookChapterSectionType.React, BookChapterSectionStyleName.React], [BookChapterSectionType.Assembly, BookChapterSectionStyleName.Assembly], [BookChapterSectionType.Compiler, BookChapterSectionStyleName.Compiler], [BookChapterSectionType.Classes, BookChapterSectionStyleName.Classes], [BookChapterSectionType.All, BookChapterSectionStyleName.All]]); ///TODO: [localization] added map by locale\n\nexport var getClassNameWithBgColorAttrBySectionName = function getClassNameWithBgColorAttrBySectionName(sectionName, locale) {\n  if (locale === void 0) {\n    locale = \"ru\";\n  }\n\n  var type = BookChapterSectionRuNameToSectionTypeMap.get(sectionName);\n\n  if (!type) {\n    throw new Error(\"Unknown section name \\\"\" + sectionName + \"\\\".\");\n  }\n\n  var baseClassName = BookChapterSectionTypeToClassNameMap.get(type);\n\n  if (baseClassName === undefined) {\n    throw new Error(\"Class for section name \\\"\" + sectionName + \"\\\" not exists.\");\n  }\n\n  var className = toFullClassNameWithBgColorAttr(baseClassName);\n  return className;\n};\nexport var getClassNameWithBorderColorAttrBySectionName = function getClassNameWithBorderColorAttrBySectionName(sectionName, locale) {\n  if (locale === void 0) {\n    locale = \"ru\";\n  }\n\n  var type = BookChapterSectionRuNameToSectionTypeMap.get(sectionName);\n\n  if (!type) {\n    throw new Error(\"Unknown section name \\\"\" + sectionName + \"\\\".\");\n  }\n\n  var baseClassName = BookChapterSectionTypeToClassNameMap.get(type);\n\n  if (baseClassName === undefined) {\n    throw new Error(\"Class for section name \\\"\" + sectionName + \"\\\" not exists.\");\n  }\n\n  var className = toFullClassNameWithBorderColorAttr(baseClassName);\n  return className;\n};","import _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { BOOK_TOC_SECTION_NAME_ALL } from \"./BookTocTreeStore\";\nimport { computed, decorate, observable } from \"mobx\";\nexport var TocTreeWithSectionMobxStore = /*#__PURE__*/function () {\n  _createClass(TocTreeWithSectionMobxStore, [{\n    key: \"isAllSection\",\n    get: function get() {\n      return this.showTocWithSectionName === TocTreeWithSectionMobxStore.BOOK_TOC_SECTION_NAME_ALL;\n    }\n  }, {\n    key: \"treeFiltered\",\n    get: function get() {\n      var _this = this;\n\n      return this.isAllSection ? this.tree : this.tree.filter(function (node) {\n        return node.data.section === _this.showTocWithSectionName;\n      });\n    }\n  }]);\n\n  function TocTreeWithSectionMobxStore(tree) {\n    this.showTocWithSectionName = TocTreeWithSectionMobxStore.BOOK_TOC_SECTION_NAME_ALL;\n    this.tree = tree;\n    this.sectionMatchCount = TocTreeWithSectionMobxStore.getNumSection(this.tree);\n  }\n\n  var _proto = TocTreeWithSectionMobxStore.prototype;\n\n  _proto.hideBySectionName = function hideBySectionName(sectionName) {\n    this.showTocWithSectionName = sectionName;\n  };\n\n  _proto.showAll = function showAll() {\n    this.showTocWithSectionName = BOOK_TOC_SECTION_NAME_ALL;\n  };\n\n  _proto.getSectionMatchCount = function getSectionMatchCount(sectionName) {\n    var _this$sectionMatchCou;\n\n    return (_this$sectionMatchCou = this.sectionMatchCount.get(sectionName)) !== null && _this$sectionMatchCou !== void 0 ? _this$sectionMatchCou : 0;\n  };\n\n  return TocTreeWithSectionMobxStore;\n}();\nTocTreeWithSectionMobxStore.BOOK_TOC_SECTION_NAME_ALL = \"\";\n\nTocTreeWithSectionMobxStore.getNumSection = function (tree) {\n  return tree.reduce(function (result, current) {\n    var _result$get;\n\n    var section = current.data.section;\n    var count = result.has(section) ? ((_result$get = result.get(section)) !== null && _result$get !== void 0 ? _result$get : 0) + 1 : 1;\n    result.set(section, count);\n    return result;\n  }, new Map());\n};\n\ndecorate(TocTreeWithSectionMobxStore, {\n  isAllSection: computed,\n  treeFiltered: computed,\n  showTocWithSectionName: observable\n});","import { observable } from \"mobx\";\nexport var BOOK_TOC_SECTION_NAME_ALL = \"\";\nexport var createBookTocTree = function createBookTocTree(tree, isCollapseAll) {\n  if (isCollapseAll === void 0) {\n    isCollapseAll = false;\n  }\n\n  var sectionMatchCount = tree.reduce(function (result, current) {\n    var _result$get;\n\n    var section = current.data.section;\n    var count = result.has(section) ? ((_result$get = result.get(section)) !== null && _result$get !== void 0 ? _result$get : 0) + 1 : 1;\n    result.set(section, count);\n    return result;\n  }, new Map());\n  var store = observable.object({\n    tree: tree,\n    isCollapseAll: isCollapseAll,\n    showTocWithSectionName: BOOK_TOC_SECTION_NAME_ALL,\n\n    get isAllSection() {\n      return this.showTocWithSectionName === BOOK_TOC_SECTION_NAME_ALL;\n    },\n\n    get treeFiltered() {\n      var _this = this;\n\n      return this.isAllSection ? this.tree : this.tree.filter(function (node) {\n        return node.data.section === _this.showTocWithSectionName;\n      });\n    },\n\n    getNodeById: function getNodeById(id) {\n      return this.tree.find(function (node) {\n        return node.id === id;\n      });\n    },\n    toggleById: function toggleById(id) {\n      var node = this.tree.find(function (node) {\n        return node.id === id;\n      });\n\n      if (!node) {\n        console.warn(\"[store BookTocTree] TreeNode with id \" + id + \" not found.\");\n      }\n\n      if (node) {\n        node.isCollapse = !node.isCollapse;\n      }\n    },\n    collapseAll: function collapseAll() {\n      var _this2 = this;\n\n      this.isCollapseAll = !this.isCollapseAll;\n      this.tree.forEach(function (node) {\n        return node.isCollapse = _this2.isCollapseAll;\n      });\n    },\n    hideBySectionName: function hideBySectionName(sectionName) {\n      this.showTocWithSectionName = sectionName;\n    },\n    showAll: function showAll() {\n      this.showTocWithSectionName = BOOK_TOC_SECTION_NAME_ALL;\n    },\n    getSectionMatchCount: function getSectionMatchCount(sectionName) {\n      var _sectionMatchCount$ge;\n\n      return (_sectionMatchCount$ge = sectionMatchCount.get(sectionName)) !== null && _sectionMatchCount$ge !== void 0 ? _sectionMatchCount$ge : 0;\n    }\n  });\n  return store;\n};","import { createToggleState, ToggleUiState } from \"../stores/AppStateService\";\nimport { createBehaviorNotification } from \"../stores/behavior-notificaion-store\";\nimport { RouterStore } from \"../stores/RouterStore\";\nimport { createContext, useContext } from \"react\";\nimport { CollapseTreeMobxStore } from \"../stores/CollapseTreeMobxStore\";\nimport { TocTreeWithSectionMobxStore } from \"../stores/TocTreeWithSectionMobxStore\";\nexport var BookTocPageMobxEntry = /*#__PURE__*/function () {\n  function BookTocPageMobxEntry() {}\n\n  BookTocPageMobxEntry.getInstance = function getInstance(params) {\n    if (!BookTocPageMobxEntry.instance) {\n      BookTocPageMobxEntry.instance = BookTocPageMobxEntry.create(params);\n    }\n\n    return BookTocPageMobxEntry.instance;\n  };\n\n  return BookTocPageMobxEntry;\n}();\n\nBookTocPageMobxEntry.create = function (_ref) {\n  var bookTocTree = _ref.bookTocTree,\n      location = _ref.location;\n  var router = RouterStore.create({\n    location: location\n  });\n  var tocFilterStore = createToggleState(ToggleUiState.Close);\n  var bookTocCollapseStore = new CollapseTreeMobxStore(bookTocTree, false);\n  var bookTocSectionStore = new TocTreeWithSectionMobxStore(bookTocCollapseStore.tree); // let bookTocTreeStore = createBookTocTree(bookTocTree, false);\n\n  var behaviorNotificationStore = createBehaviorNotification();\n  return {\n    router: router,\n    tocFilterStore: tocFilterStore,\n    bookTocCollapseStore: bookTocCollapseStore,\n    bookTocSectionStore: bookTocSectionStore,\n    behaviorNotificationStore: behaviorNotificationStore\n  };\n};\n\nexport var MobxBookTocPageContext = /*#__PURE__*/createContext(null);\nexport var useBookTocPageStores = function useBookTocPageStores() {\n  return useContext(MobxBookTocPageContext);\n};","import React from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { default as cn } from \"classnames\";\nimport { getClassNameWithBgColorAttrBySectionName } from \"../../maps/book-chapter-section-type-to-style-color-map\";\nimport { useBookTocPageStores } from \"../../mobx__entry/BookTocPageMobxEntry\";\nexport var BookTocTreeCloseDecor = observer(function () {\n  var _useTranslator = useTranslator(),\n      locale = _useTranslator[0].lang;\n\n  var _useBookTocPageStores = useBookTocPageStores(),\n      bookTocSectionStore = _useBookTocPageStores.bookTocSectionStore;\n\n  var sectionName = bookTocSectionStore.treeFiltered[bookTocSectionStore.treeFiltered.length - 1].data.section;\n  var classes = cn(\"bt-tree_close-decor\", getClassNameWithBgColorAttrBySectionName(sectionName, locale));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  });\n});","import React from \"react\";\nexport var SectionTocMenu = function SectionTocMenu(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toc-menu__section\"\n  }, children);\n};","import React from \"react\";\nimport { default as cn } from \"classnames\";\nimport { getClassNameWithBgColorAttrBySectionName } from \"../../maps/book-chapter-section-type-to-style-color-map\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nexport var SectionLabelTocMenu = function SectionLabelTocMenu(_ref) {\n  var sectionName = _ref.sectionName;\n\n  var _useTranslator = useTranslator(),\n      locale = _useTranslator[0].lang;\n\n  var classes = cn(\"toc-menu__section-label\", getClassNameWithBgColorAttrBySectionName(sectionName, locale));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, /*#__PURE__*/React.createElement(\"span\", null, sectionName));\n};","import React from \"react\";\nimport { getClassNameWithBorderColorAttrBySectionName } from \"../../maps/book-chapter-section-type-to-style-color-map\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { default as cn } from \"classnames\";\nexport var SectionContentTocMenu = function SectionContentTocMenu(_ref) {\n  var sectionName = _ref.sectionName,\n      children = _ref.children;\n\n  var _useTranslator = useTranslator(),\n      locale = _useTranslator[0].lang;\n\n  var classes = cn(\"toc-menu__section-content\", getClassNameWithBorderColorAttrBySectionName(sectionName, locale));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, children);\n};","import { createContext, useContext } from \"react\";\nexport var CollapseContext = /*#__PURE__*/createContext({\n  id: \"\",\n  isCollapse: false,\n  toggle: function toggle() {}\n});\nexport var useCollapse = function useCollapse() {\n  return useContext(CollapseContext);\n};","import React from \"react\";\nimport { CollapseContext } from \"./collpase-context\";\nimport { useBookTocPageStores } from \"../../mobx__entry/BookTocPageMobxEntry\";\nimport { observer } from \"mobx-react-lite\";\nexport var Collapse = observer(function (_ref) {\n  var id = _ref.id,\n      isCollapse = _ref.isCollapse,\n      children = _ref.children;\n\n  var _useBookTocPageStores = useBookTocPageStores(),\n      bookTocCollapseStore = _useBookTocPageStores.bookTocCollapseStore;\n\n  var node = bookTocCollapseStore.getNodeById(id);\n\n  if (!node) {\n    throw new Error(\"CollapseNode with id \\\"\" + id + \"\\\" not found.\");\n  }\n\n  var toggle = function toggle() {\n    return bookTocCollapseStore.toggleById(id);\n  };\n\n  return /*#__PURE__*/React.createElement(CollapseContext.Provider, {\n    value: {\n      id: id,\n      isCollapse: node.isCollapse,\n      toggle: toggle\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse\",\n    \"is-collapse\": node.isCollapse ? \"true\" : \"false\"\n  }, children));\n});","import { createContext, useContext } from \"react\";\nexport var CollapseGroupService = /*#__PURE__*/function () {\n  function CollapseGroupService() {}\n\n  CollapseGroupService.registerGroup = function registerGroup(collapseGroup) {\n    CollapseGroupService.map.set(collapseGroup.id, collapseGroup);\n  };\n\n  CollapseGroupService.unregisterGroup = function unregisterGroup(collapseGroup) {\n    CollapseGroupService.map.delete(collapseGroup.id);\n  };\n\n  CollapseGroupService.getCollapseGroup = function getCollapseGroup(id) {\n    return CollapseGroupService.map.get(id);\n  };\n\n  return CollapseGroupService;\n}();\nCollapseGroupService.map = new Map();\nexport var CollapseGroupContext = /*#__PURE__*/createContext({\n  id: \"\",\n  isCollapse: false,\n  toggle: function toggle() {}\n});\nexport var useCollapseGroup = function useCollapseGroup() {\n  return useContext(CollapseGroupContext);\n};\nexport var useCollapseGroupService = function useCollapseGroupService(id) {};","import React, { useEffect, useState } from \"react\";\nimport { useCollapse } from \"../collapse/collpase-context\";\nimport { observer } from \"mobx-react-lite\";\nimport { useCollapseGroup } from \"../collapse__group/collpase-group-context\";\nexport var CollapsedCollapse = observer(function (_ref) {\n  var children = _ref.children;\n\n  var getStateByValue = function getStateByValue(value) {\n    return value ? \"true\" : \"false\";\n  };\n\n  var collapse = useCollapse();\n  var collapseGroup = useCollapseGroup();\n\n  var _useState = useState(getStateByValue(collapse.isCollapse)),\n      state = _useState[0],\n      setState = _useState[1];\n\n  useEffect(function () {\n    setState(getStateByValue(collapse.isCollapse));\n  }, [collapse.isCollapse]);\n  useEffect(function () {\n    collapse.isCollapse = collapseGroup.isCollapse;\n  }, [collapseGroup.isCollapse]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"collapse__collapsed\",\n    \"is-collapse\": state\n  }, children);\n});","import React from \"react\";\nimport { default as cn } from \"classnames\";\nexport var Tree = function Tree(_ref) {\n  var level = _ref.level,\n      children = _ref.children;\n  var classes = cn(\"tree\", \"tree-level_\" + level);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, children);\n};","import React from \"react\";\nexport var ItemTocMenu = function ItemTocMenu(_ref) {\n  var children = _ref.children;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"toc-menu__item\"\n  }, children);\n};","import React from \"react\";\nexport var ItemIndexTocMenu = function ItemIndexTocMenu(_ref) {\n  var index = _ref.index;\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: \"toc-menu-item__index\"\n  }, index);\n};","import React from \"react\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { IconButton, Size } from \"../icon-button/IconButton\";\nimport { LinkSvgIcon } from \"../icon__svg-icon/svg-icons\";\nimport { Tooltip, TooltipPosition } from \"../tooltip/Tooltip\";\nexport var CopyToBufferButtonTocMenu = function CopyToBufferButtonTocMenu(_ref) {\n  var onClick = _ref.onClick;\n\n  var _useTranslator = useTranslator(LocalizationPaths.BookChaptersPageGui),\n      t = _useTranslator[0];\n\n  return /*#__PURE__*/React.createElement(IconButton, {\n    className: \"toc-control__copy-to-buffer-button toc-menu__control_button_offset-for-center\",\n    size: Size.SM,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(LinkSvgIcon, {\n    className: \"copy-to-buffer-button__svg-icon\"\n  }), /*#__PURE__*/React.createElement(Tooltip, {\n    position: TooltipPosition.BottomCenter\n  }, t.tocItem.copyLinkToBufferButton.tooltip));\n};","import React from \"react\";\nimport { default as cn } from \"classnames\";\nexport var RotateContainer = function RotateContainer(_ref) {\n  var _cn;\n\n  var isToggle = _ref.isToggle,\n      className = _ref.className,\n      children = _ref.children;\n  var classes = cn(\"rotate-container\", className, (_cn = {}, _cn[\"rotate-container_rotate_180deg\"] = isToggle, _cn));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes\n  }, children);\n};","import React from \"react\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { IconButton, Size } from \"../icon-button/IconButton\";\nimport { ArrowDownSvgIcon } from \"../icon__svg-icon/svg-icons\";\nimport { Tooltip, TooltipPosition } from \"../tooltip/Tooltip\";\nimport { RotateContainer } from \"../transform__rotate-container/RotateContainer\";\nimport { If } from \"../if-operator/If\";\nexport var CollapseButton = function CollapseButton(_ref) {\n  var isCollapse = _ref.isCollapse,\n      onClick = _ref.onClick;\n\n  var _useTranslator = useTranslator(LocalizationPaths.BookChaptersPageGui),\n      t = _useTranslator[0];\n\n  return /*#__PURE__*/React.createElement(IconButton, {\n    className: \"toc-control__collapse-button toc-control__button_offset-for-center\",\n    size: Size.SM,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(RotateContainer, {\n    isToggle: !isCollapse\n  }, /*#__PURE__*/React.createElement(ArrowDownSvgIcon, {\n    className: \"collapse-button__svg-icon\"\n  })), /*#__PURE__*/React.createElement(Tooltip, {\n    position: TooltipPosition.BottomCenter\n  }, /*#__PURE__*/React.createElement(If, {\n    condition: isCollapse\n  }, t.tocItem.collapseTocButton.tooltip.openState), /*#__PURE__*/React.createElement(If, {\n    condition: !isCollapse\n  }, t.tocItem.collapseTocButton.tooltip.closeState)));\n};","import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport React from \"react\";\nimport { CollapseButton } from \"../button__collapse/CollapseButton\";\nimport { useCollapse } from \"../collapse/collpase-context\";\nimport { observer } from \"mobx-react-lite\";\nexport var CollapseItemButtonTocMenu = observer(function (_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var collapse = useCollapse();\n  return /*#__PURE__*/React.createElement(CollapseButton, {\n    isCollapse: collapse.isCollapse,\n    onClick: collapse.toggle\n  });\n});","import { action, decorate, observable } from \"mobx\";\nexport var CollapseService = /*#__PURE__*/function () {\n  function CollapseService() {}\n\n  CollapseService.create = function create(id, isCollapse) {\n    var _CollapseService$map$;\n\n    if (isCollapse === void 0) {\n      isCollapse = false;\n    }\n\n    return (_CollapseService$map$ = CollapseService.map.get(id)) !== null && _CollapseService$map$ !== void 0 ? _CollapseService$map$ : CollapseService.map.set(id, new Collapse(id, isCollapse)).get(id);\n  };\n\n  CollapseService.destroy = function destroy(id) {\n    return CollapseService.map.delete(id);\n  };\n\n  CollapseService.getCollapseById = function getCollapseById(id) {\n    return CollapseService.map.get(id);\n  };\n\n  return CollapseService;\n}();\nCollapseService.map = new Map();\nexport var Collapse = function Collapse(id, isCollapse) {\n  var _this = this;\n\n  if (isCollapse === void 0) {\n    isCollapse = false;\n  }\n\n  this.toggle = function () {\n    _this.isCollapse = !_this.isCollapse;\n  };\n\n  this.id = id;\n  this.isCollapse = isCollapse;\n};\ndecorate(Collapse, {\n  isCollapse: observable,\n  toggle: action\n});","import React from \"react\";\nimport { CollapseGroupContext } from \"./collpase-group-context\";\nimport { CollapseService } from \"../../stores/Toggle\";\nexport var GroupCollapse = function GroupCollapse(_ref) {\n  var id = _ref.id,\n      isCollapse = _ref.isCollapse,\n      children = _ref.children;\n  return /*#__PURE__*/React.createElement(CollapseGroupContext.Provider, {\n    value: CollapseService.create(id, isCollapse)\n  }, children);\n};","import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport React from \"react\";\nimport { observer } from \"mobx-react-lite\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { BookTocTreeCloseDecor } from \"../../components/tree__tree-close-decor_book-toc/BookTocTreeCloseDecor\";\nimport { SectionTocMenu } from \"../../components/toc-menu__section/SectionTocMenu\";\nimport { SectionLabelTocMenu } from \"../../components/toc-menu__section-label/SectionLabelTocMenu\";\nimport { SectionContentTocMenu } from \"../../components/toc-menu__section-content/SectionContentTocMenu\";\nimport { Collapse } from \"../../components/collapse/Collapse\";\nimport { CollapsedCollapse } from \"../../components/collapse__collapsed/CollapsedCollapse\";\nimport { Tree } from \"../../components/tree/Tree\";\nimport { ItemTocMenu } from \"../../components/toc-menu__item/ItemTocMenu\";\nimport { ItemIndexTocMenu } from \"../../components/toc-menu__item__index/ItemIndexTocMenu\";\nimport { RouterUtils } from \"../../utils/router-utils\";\nimport { Link } from \"gatsby\";\nimport { CopyToBufferButtonTocMenu } from \"../../components/toc-menu__copy-to-buffer-button/CopyToBufferButtonTocMenu\";\nimport { CollapseItemButtonTocMenu } from \"../../components/toc-menu__collapse-item-button/CollapseItemButtonTocMenu\";\nimport { GroupCollapse } from \"../../components/collapse__group/GroupCollapse\";\nimport { useBookTocPageStores } from \"../../mobx__entry/BookTocPageMobxEntry\";\nexport var BookTocContentLayout = observer(function (_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var _useTranslator = useTranslator(LocalizationPaths.BookChaptersPageGui),\n      t = _useTranslator[0];\n\n  var _useBookTocPageStores = useBookTocPageStores(),\n      bookTocCollapseStore = _useBookTocPageStores.bookTocCollapseStore,\n      bookTocSectionStore = _useBookTocPageStores.bookTocSectionStore; // const onCollapse = ( id: string ) => bookTocTreeStore.collapseById( id );\n\n\n  var onCopyLinkToBuffer = function onCopyLinkToBuffer(path) {};\n\n  function getLastItem(array) {\n    return array[array.length - 1];\n  }\n\n  function isEmpty(array) {\n    return array.length === 0;\n  }\n\n  function isSectionContinues(array, item) {\n    return getLastItem(array).section === item.data.section;\n  }\n\n  var bookToc = bookTocSectionStore.treeFiltered.reduce(function (treeWithSectionAll, current) {\n    if (!isEmpty(treeWithSectionAll) && isSectionContinues(treeWithSectionAll, current)) {\n      getLastItem(treeWithSectionAll).items.push(current);\n    } else {\n      treeWithSectionAll.push({\n        section: current.data.section,\n        items: [current]\n      });\n    }\n\n    return treeWithSectionAll;\n  }, []).map(function (item, sectionIndex) {\n    var sectionKey = item.section + \"_\" + sectionIndex;\n    var items = item.items.map(function (node) {\n      var bookTocTreeNode = bookTocCollapseStore.getNodeById(node.id);\n\n      if (!bookTocTreeNode) {\n        throw new Error(\"Book tree node with id \\\"\" + node.id + \"\\\" not found.\");\n      }\n\n      var firstLevelIndex = bookTocTreeNode.index,\n          data = bookTocTreeNode.data;\n      var title = data.title,\n          firstLevelPath = data.path,\n          subtitles = data.subtitles;\n      var firstLevelItem = /*#__PURE__*/React.createElement(ItemTocMenu, null, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toc-menu__section_left\"\n      }, /*#__PURE__*/React.createElement(ItemIndexTocMenu, {\n        index: firstLevelIndex.toString()\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toc-menu__section_center\"\n      }, /*#__PURE__*/React.createElement(Link, {\n        className: \"toc-menu-item__gatsby-link\",\n        to: RouterUtils.toRelativePath(firstLevelPath)\n      }, title)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toc-menu__section_right\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toc-menu-item__control\"\n      }, /*#__PURE__*/React.createElement(CopyToBufferButtonTocMenu, {\n        onClick: function onClick() {\n          return onCopyLinkToBuffer(firstLevelPath);\n        }\n      }), /*#__PURE__*/React.createElement(CollapseItemButtonTocMenu, null))));\n      var secondLevelItemAll = subtitles.map(function (_ref2, secondLevelIndex) {\n        var secondLevelPath = _ref2.path,\n            subtitle = _ref2.subtitle;\n        return /*#__PURE__*/React.createElement(ItemTocMenu, {\n          key: firstLevelIndex + \".\" + secondLevelIndex\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toc-menu__section_left\"\n        }, /*#__PURE__*/React.createElement(ItemIndexTocMenu, {\n          index: firstLevelIndex.toString() + \".\" + secondLevelIndex\n        })), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toc-menu__section_center\"\n        }, /*#__PURE__*/React.createElement(Link, {\n          className: \"toc-menu-item__gatsby-link\",\n          to: RouterUtils.toRelativePath(secondLevelPath)\n        }, subtitle)), /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toc-menu__section_right\"\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"toc-menu-item__control\"\n        }, /*#__PURE__*/React.createElement(CopyToBufferButtonTocMenu, {\n          onClick: function onClick() {\n            return onCopyLinkToBuffer(secondLevelPath);\n          }\n        }))));\n      });\n      return /*#__PURE__*/React.createElement(Collapse, {\n        key: firstLevelIndex,\n        id: firstLevelIndex.toString()\n      }, /*#__PURE__*/React.createElement(Tree, {\n        level: 0\n      }, firstLevelItem), /*#__PURE__*/React.createElement(CollapsedCollapse, null, /*#__PURE__*/React.createElement(Tree, {\n        level: 1\n      }, secondLevelItemAll)));\n    });\n    return /*#__PURE__*/React.createElement(SectionTocMenu, {\n      key: sectionKey\n    }, /*#__PURE__*/React.createElement(SectionLabelTocMenu, {\n      sectionName: item.section\n    }), /*#__PURE__*/React.createElement(SectionContentTocMenu, {\n      sectionName: item.section\n    }, items));\n  });\n  return /*#__PURE__*/React.createElement(\"main\", {\n    className: \"content content-without-control book-toc-content-layout__toc\",\n    filter: bookTocSectionStore.showTocWithSectionName\n  }, /*#__PURE__*/React.createElement(GroupCollapse, {\n    id: \"book-toc\",\n    isCollapse: false\n  }, bookToc), /*#__PURE__*/React.createElement(BookTocTreeCloseDecor, null));\n});","import React from \"react\";\nimport { default as cn } from \"classnames\";\nimport { RotateContainer } from \"../transform__rotate-container/RotateContainer\";\nimport { ArrowDownSvgIcon } from \"../icon__svg-icon/svg-icons\";\nimport { IconButton, Size } from \"../icon-button/IconButton\";\nimport { observer } from \"mobx-react-lite\";\nimport { Tooltip, TooltipPosition } from \"../tooltip/Tooltip\";\nimport { If } from \"../if-operator/If\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { useBookTocPageStores } from \"../../mobx__entry/BookTocPageMobxEntry\";\nexport var TocCollapseAllButton = observer(function (_ref) {\n  var className = _ref.className,\n      collapseGroupId = _ref.collapseGroupId;\n\n  var _useTranslator = useTranslator(LocalizationPaths.BookChaptersPageGui),\n      t = _useTranslator[0];\n\n  var _useBookTocPageStores = useBookTocPageStores(),\n      bookTocCollapseStore = _useBookTocPageStores.bookTocCollapseStore;\n\n  var classes = cn(\"toc-collapse-all-button\", className);\n  return /*#__PURE__*/React.createElement(IconButton, {\n    className: classes,\n    size: Size.SM,\n    onClick: function onClick() {\n      return bookTocCollapseStore.collapseAll();\n    }\n  }, /*#__PURE__*/React.createElement(RotateContainer, {\n    isToggle: !bookTocCollapseStore.isCollapseAll\n  }, /*#__PURE__*/React.createElement(ArrowDownSvgIcon, null)), /*#__PURE__*/React.createElement(Tooltip, {\n    position: TooltipPosition.BottomCenter\n  }, /*#__PURE__*/React.createElement(If, {\n    condition: bookTocCollapseStore.isCollapseAll\n  }, t.secondaryContentBar.tocCollapseAllButton.tooltip.openState), /*#__PURE__*/React.createElement(If, {\n    condition: !bookTocCollapseStore.isCollapseAll\n  }, t.secondaryContentBar.tocCollapseAllButton.tooltip.closeState)));\n});","import React from \"react\";\nimport { default as cn } from \"classnames\";\nimport { getClassNameWithBgColorAttrBySectionName } from \"../../maps/book-chapter-section-type-to-style-color-map\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nexport var BookTocTag = function BookTocTag(_ref) {\n  var section = _ref.section,\n      sectionMatchCount = _ref.sectionMatchCount,\n      className = _ref.className,\n      children = _ref.children,\n      onClick = _ref.onClick;\n\n  var _useTranslator = useTranslator(),\n      locale = _useTranslator[0].lang;\n\n  var classes = cn(\"book-toc__tag\", className, getClassNameWithBgColorAttrBySectionName(section, locale));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classes,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-toc__section-match-count\"\n  }, sectionMatchCount), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-toc__tag-label\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, children)));\n};","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function getSymbolIterator() {\n  if (typeof Symbol !== 'function' || !Symbol.iterator) {\n    return '@@iterator';\n  }\n\n  return Symbol.iterator;\n}\nexport var iterator = /*@__PURE__*/getSymbolIterator();\nexport var $$iterator = iterator;","/** PURE_IMPORTS_START _subscribeToArray,_subscribeToPromise,_subscribeToIterable,_subscribeToObservable,_isArrayLike,_isPromise,_isObject,_symbol_iterator,_symbol_observable PURE_IMPORTS_END */\nimport { subscribeToArray } from './subscribeToArray';\nimport { subscribeToPromise } from './subscribeToPromise';\nimport { subscribeToIterable } from './subscribeToIterable';\nimport { subscribeToObservable } from './subscribeToObservable';\nimport { isArrayLike } from './isArrayLike';\nimport { isPromise } from './isPromise';\nimport { isObject } from './isObject';\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeTo = function subscribeTo(result) {\n  if (!!result && typeof result[Symbol_observable] === 'function') {\n    return subscribeToObservable(result);\n  } else if (isArrayLike(result)) {\n    return subscribeToArray(result);\n  } else if (isPromise(result)) {\n    return subscribeToPromise(result);\n  } else if (!!result && typeof result[Symbol_iterator] === 'function') {\n    return subscribeToIterable(result);\n  } else {\n    var value = isObject(result) ? 'an invalid object' : \"'\" + result + \"'\";\n    var msg = \"You provided \" + value + \" where a stream was expected.\" + ' You can provide an Observable, Promise, Array, or Iterable.';\n    throw new TypeError(msg);\n  }\n};","/** PURE_IMPORTS_START _symbol_observable PURE_IMPORTS_END */\nimport { observable as Symbol_observable } from '../symbol/observable';\nexport var subscribeToObservable = function subscribeToObservable(obj) {\n  return function (subscriber) {\n    var obs = obj[Symbol_observable]();\n\n    if (typeof obs.subscribe !== 'function') {\n      throw new TypeError('Provided object does not correctly implement Symbol.observable');\n    } else {\n      return obs.subscribe(subscriber);\n    }\n  };\n};","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArrayLike = function isArrayLike(x) {\n  return x && typeof x.length === 'number' && typeof x !== 'function';\n};","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var subscribeToArray = function subscribeToArray(array) {\n  return function (subscriber) {\n    for (var i = 0, len = array.length; i < len && !subscriber.closed; i++) {\n      subscriber.next(array[i]);\n    }\n\n    subscriber.complete();\n  };\n};","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isPromise(value) {\n  return !!value && typeof value.subscribe !== 'function' && typeof value.then === 'function';\n}","/** PURE_IMPORTS_START _hostReportError PURE_IMPORTS_END */\nimport { hostReportError } from './hostReportError';\nexport var subscribeToPromise = function subscribeToPromise(promise) {\n  return function (subscriber) {\n    promise.then(function (value) {\n      if (!subscriber.closed) {\n        subscriber.next(value);\n        subscriber.complete();\n      }\n    }, function (err) {\n      return subscriber.error(err);\n    }).then(null, hostReportError);\n    return subscriber;\n  };\n};","/** PURE_IMPORTS_START _symbol_iterator PURE_IMPORTS_END */\nimport { iterator as Symbol_iterator } from '../symbol/iterator';\nexport var subscribeToIterable = function subscribeToIterable(iterable) {\n  return function (subscriber) {\n    var iterator = iterable[Symbol_iterator]();\n\n    do {\n      var item = void 0;\n\n      try {\n        item = iterator.next();\n      } catch (err) {\n        subscriber.error(err);\n        return subscriber;\n      }\n\n      if (item.done) {\n        subscriber.complete();\n        break;\n      }\n\n      subscriber.next(item.value);\n\n      if (subscriber.closed) {\n        break;\n      }\n    } while (true);\n\n    if (typeof iterator.return === 'function') {\n      subscriber.add(function () {\n        if (iterator.return) {\n          iterator.return();\n        }\n      });\n    }\n\n    return subscriber;\n  };\n};","/** PURE_IMPORTS_START tslib,_Subscriber,_Observable,_util_subscribeTo PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from './Subscriber';\nimport { Observable } from './Observable';\nimport { subscribeTo } from './util/subscribeTo';\n\nvar SimpleInnerSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SimpleInnerSubscriber, _super);\n\n  function SimpleInnerSubscriber(parent) {\n    var _this = _super.call(this) || this;\n\n    _this.parent = parent;\n    return _this;\n  }\n\n  SimpleInnerSubscriber.prototype._next = function (value) {\n    this.parent.notifyNext(value);\n  };\n\n  SimpleInnerSubscriber.prototype._error = function (error) {\n    this.parent.notifyError(error);\n    this.unsubscribe();\n  };\n\n  SimpleInnerSubscriber.prototype._complete = function () {\n    this.parent.notifyComplete();\n    this.unsubscribe();\n  };\n\n  return SimpleInnerSubscriber;\n}(Subscriber);\n\nexport { SimpleInnerSubscriber };\n\nvar ComplexInnerSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(ComplexInnerSubscriber, _super);\n\n  function ComplexInnerSubscriber(parent, outerValue, outerIndex) {\n    var _this = _super.call(this) || this;\n\n    _this.parent = parent;\n    _this.outerValue = outerValue;\n    _this.outerIndex = outerIndex;\n    return _this;\n  }\n\n  ComplexInnerSubscriber.prototype._next = function (value) {\n    this.parent.notifyNext(this.outerValue, value, this.outerIndex, this);\n  };\n\n  ComplexInnerSubscriber.prototype._error = function (error) {\n    this.parent.notifyError(error);\n    this.unsubscribe();\n  };\n\n  ComplexInnerSubscriber.prototype._complete = function () {\n    this.parent.notifyComplete(this);\n    this.unsubscribe();\n  };\n\n  return ComplexInnerSubscriber;\n}(Subscriber);\n\nexport { ComplexInnerSubscriber };\n\nvar SimpleOuterSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(SimpleOuterSubscriber, _super);\n\n  function SimpleOuterSubscriber() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  SimpleOuterSubscriber.prototype.notifyNext = function (innerValue) {\n    this.destination.next(innerValue);\n  };\n\n  SimpleOuterSubscriber.prototype.notifyError = function (err) {\n    this.destination.error(err);\n  };\n\n  SimpleOuterSubscriber.prototype.notifyComplete = function () {\n    this.destination.complete();\n  };\n\n  return SimpleOuterSubscriber;\n}(Subscriber);\n\nexport { SimpleOuterSubscriber };\n\nvar ComplexOuterSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(ComplexOuterSubscriber, _super);\n\n  function ComplexOuterSubscriber() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  ComplexOuterSubscriber.prototype.notifyNext = function (_outerValue, innerValue, _outerIndex, _innerSub) {\n    this.destination.next(innerValue);\n  };\n\n  ComplexOuterSubscriber.prototype.notifyError = function (error) {\n    this.destination.error(error);\n  };\n\n  ComplexOuterSubscriber.prototype.notifyComplete = function (_innerSub) {\n    this.destination.complete();\n  };\n\n  return ComplexOuterSubscriber;\n}(Subscriber);\n\nexport { ComplexOuterSubscriber };\nexport function innerSubscribe(result, innerSubscriber) {\n  if (innerSubscriber.closed) {\n    return undefined;\n  }\n\n  if (result instanceof Observable) {\n    return result.subscribe(innerSubscriber);\n  }\n\n  return subscribeTo(result)(innerSubscriber);\n}","/** PURE_IMPORTS_START tslib,_innerSubscribe PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { SimpleOuterSubscriber, innerSubscribe, SimpleInnerSubscriber } from '../innerSubscribe';\nexport function audit(durationSelector) {\n  return function auditOperatorFunction(source) {\n    return source.lift(new AuditOperator(durationSelector));\n  };\n}\n\nvar AuditOperator = /*@__PURE__*/function () {\n  function AuditOperator(durationSelector) {\n    this.durationSelector = durationSelector;\n  }\n\n  AuditOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new AuditSubscriber(subscriber, this.durationSelector));\n  };\n\n  return AuditOperator;\n}();\n\nvar AuditSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(AuditSubscriber, _super);\n\n  function AuditSubscriber(destination, durationSelector) {\n    var _this = _super.call(this, destination) || this;\n\n    _this.durationSelector = durationSelector;\n    _this.hasValue = false;\n    return _this;\n  }\n\n  AuditSubscriber.prototype._next = function (value) {\n    this.value = value;\n    this.hasValue = true;\n\n    if (!this.throttled) {\n      var duration = void 0;\n\n      try {\n        var durationSelector = this.durationSelector;\n        duration = durationSelector(value);\n      } catch (err) {\n        return this.destination.error(err);\n      }\n\n      var innerSubscription = innerSubscribe(duration, new SimpleInnerSubscriber(this));\n\n      if (!innerSubscription || innerSubscription.closed) {\n        this.clearThrottle();\n      } else {\n        this.add(this.throttled = innerSubscription);\n      }\n    }\n  };\n\n  AuditSubscriber.prototype.clearThrottle = function () {\n    var _a = this,\n        value = _a.value,\n        hasValue = _a.hasValue,\n        throttled = _a.throttled;\n\n    if (throttled) {\n      this.remove(throttled);\n      this.throttled = undefined;\n      throttled.unsubscribe();\n    }\n\n    if (hasValue) {\n      this.value = undefined;\n      this.hasValue = false;\n      this.destination.next(value);\n    }\n  };\n\n  AuditSubscriber.prototype.notifyNext = function () {\n    this.clearThrottle();\n  };\n\n  AuditSubscriber.prototype.notifyComplete = function () {\n    this.clearThrottle();\n  };\n\n  return AuditSubscriber;\n}(SimpleOuterSubscriber);","/** PURE_IMPORTS_START _isArray PURE_IMPORTS_END */\nimport { isArray } from './isArray';\nexport function isNumeric(val) {\n  return !isArray(val) && val - parseFloat(val) + 1 >= 0;\n}","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isScheduler(value) {\n  return value && typeof value.schedule === 'function';\n}","/** PURE_IMPORTS_START _Observable,_scheduler_async,_util_isNumeric,_util_isScheduler PURE_IMPORTS_END */\nimport { Observable } from '../Observable';\nimport { async } from '../scheduler/async';\nimport { isNumeric } from '../util/isNumeric';\nimport { isScheduler } from '../util/isScheduler';\nexport function timer(dueTime, periodOrScheduler, scheduler) {\n  if (dueTime === void 0) {\n    dueTime = 0;\n  }\n\n  var period = -1;\n\n  if (isNumeric(periodOrScheduler)) {\n    period = Number(periodOrScheduler) < 1 && 1 || Number(periodOrScheduler);\n  } else if (isScheduler(periodOrScheduler)) {\n    scheduler = periodOrScheduler;\n  }\n\n  if (!isScheduler(scheduler)) {\n    scheduler = async;\n  }\n\n  return new Observable(function (subscriber) {\n    var due = isNumeric(dueTime) ? dueTime : +dueTime - scheduler.now();\n    return scheduler.schedule(dispatch, due, {\n      index: 0,\n      period: period,\n      subscriber: subscriber\n    });\n  });\n}\n\nfunction dispatch(state) {\n  var index = state.index,\n      period = state.period,\n      subscriber = state.subscriber;\n  subscriber.next(index);\n\n  if (subscriber.closed) {\n    return;\n  } else if (period === -1) {\n    return subscriber.complete();\n  }\n\n  state.index = index + 1;\n  this.schedule(state, period);\n}","/** PURE_IMPORTS_START _scheduler_async,_audit,_observable_timer PURE_IMPORTS_END */\nimport { async } from '../scheduler/async';\nimport { audit } from './audit';\nimport { timer } from '../observable/timer';\nexport function auditTime(duration, scheduler) {\n  if (scheduler === void 0) {\n    scheduler = async;\n  }\n\n  return audit(function () {\n    return timer(duration, scheduler);\n  });\n}","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function noop() {}","/** PURE_IMPORTS_START tslib,_Subscriber,_util_noop,_util_isFunction PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscriber } from '../Subscriber';\nimport { noop } from '../util/noop';\nimport { isFunction } from '../util/isFunction';\nexport function tap(nextOrObserver, error, complete) {\n  return function tapOperatorFunction(source) {\n    return source.lift(new DoOperator(nextOrObserver, error, complete));\n  };\n}\n\nvar DoOperator = /*@__PURE__*/function () {\n  function DoOperator(nextOrObserver, error, complete) {\n    this.nextOrObserver = nextOrObserver;\n    this.error = error;\n    this.complete = complete;\n  }\n\n  DoOperator.prototype.call = function (subscriber, source) {\n    return source.subscribe(new TapSubscriber(subscriber, this.nextOrObserver, this.error, this.complete));\n  };\n\n  return DoOperator;\n}();\n\nvar TapSubscriber = /*@__PURE__*/function (_super) {\n  tslib_1.__extends(TapSubscriber, _super);\n\n  function TapSubscriber(destination, observerOrNext, error, complete) {\n    var _this = _super.call(this, destination) || this;\n\n    _this._tapNext = noop;\n    _this._tapError = noop;\n    _this._tapComplete = noop;\n    _this._tapError = error || noop;\n    _this._tapComplete = complete || noop;\n\n    if (isFunction(observerOrNext)) {\n      _this._context = _this;\n      _this._tapNext = observerOrNext;\n    } else if (observerOrNext) {\n      _this._context = observerOrNext;\n      _this._tapNext = observerOrNext.next || noop;\n      _this._tapError = observerOrNext.error || noop;\n      _this._tapComplete = observerOrNext.complete || noop;\n    }\n\n    return _this;\n  }\n\n  TapSubscriber.prototype._next = function (value) {\n    try {\n      this._tapNext.call(this._context, value);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.next(value);\n  };\n\n  TapSubscriber.prototype._error = function (err) {\n    try {\n      this._tapError.call(this._context, err);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    this.destination.error(err);\n  };\n\n  TapSubscriber.prototype._complete = function () {\n    try {\n      this._tapComplete.call(this._context);\n    } catch (err) {\n      this.destination.error(err);\n      return;\n    }\n\n    return this.destination.complete();\n  };\n\n  return TapSubscriber;\n}(Subscriber);","import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport React, { useEffect, useRef } from \"react\";\nimport { BookTocTag } from \"../book-toc-tag/BookTocTag\";\nimport { Subject } from \"rxjs\";\nimport { auditTime, tap } from \"rxjs/operators\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { useBookTocPageStores } from \"../../mobx__entry/BookTocPageMobxEntry\";\nvar SECONDARY_CONTENT_BAR_CLOSE_DELAY = 400;\nexport var BookTocTagBar = function BookTocTagBar(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var _useTranslator = useTranslator(LocalizationPaths.BookChaptersPageGui),\n      t = _useTranslator[0];\n\n  var _useBookTocPageStores = useBookTocPageStores(),\n      bookTocCollapseStore = _useBookTocPageStores.bookTocCollapseStore,\n      bookTocSectionStore = _useBookTocPageStores.bookTocSectionStore,\n      tocFilterStore = _useBookTocPageStores.tocFilterStore;\n\n  var filterSectionRef = useRef({\n    bookTocTree$: null,\n    filterSection: null\n  });\n  useEffect(function () {\n    filterSectionRef.current.bookTocTree$ = new Subject();\n    filterSectionRef.current.filterSection = filterSectionRef.current.bookTocTree$.pipe(auditTime(SECONDARY_CONTENT_BAR_CLOSE_DELAY), tap(function (sectionName) {\n      window.scrollTo(window.scrollX, 0);\n      tocFilterStore.close();\n\n      if (sectionName === \"\") {\n        bookTocSectionStore.showAll();\n      } else {\n        bookTocSectionStore.hideBySectionName(sectionName);\n      }\n    }));\n    var filterSectionSubscription = filterSectionRef.current.filterSection.subscribe();\n    return function () {\n      filterSectionSubscription.unsubscribe();\n    };\n  }, []);\n\n  var filterBySectionName = function filterBySectionName(sectionName) {\n    var _filterSectionRef$cur;\n\n    return (_filterSectionRef$cur = filterSectionRef.current.bookTocTree$) === null || _filterSectionRef$cur === void 0 ? void 0 : _filterSectionRef$cur.next(sectionName);\n  };\n\n  var cleanFilter = function cleanFilter() {\n    var _filterSectionRef$cur2;\n\n    return (_filterSectionRef$cur2 = filterSectionRef.current.bookTocTree$) === null || _filterSectionRef$cur2 === void 0 ? void 0 : _filterSectionRef$cur2.next(\"\");\n  };\n\n  var bookTocSectionSet = bookTocSectionStore.tree.reduce(function (result, current) {\n    return result.add(current.data.section);\n  }, new Set());\n  var bookTocSortSectionAll = Array.from(bookTocSectionSet).sort(function (a, b) {\n    return a.charCodeAt(0) - b.charCodeAt(0);\n  });\n  var bookTocTagAll = bookTocSortSectionAll.map(function (sectionName, index) {\n    return /*#__PURE__*/React.createElement(BookTocTag, {\n      key: index,\n      section: sectionName,\n      sectionMatchCount: bookTocSectionStore.getSectionMatchCount(sectionName),\n      onClick: function onClick() {\n        return filterBySectionName(sectionName);\n      }\n    }, sectionName);\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-toc__tag-bar\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-toc__tag book-toc__tag_clear-filter\",\n    onClick: cleanFilter\n  }, t.asideLayout.tagBar.cleanFilterButton), bookTocTagAll);\n};","import React from \"react\";\nimport { Dropdown } from \"../dropdown/Dropdown\";\nimport { DropdownToggle } from \"../dropdown/DropdownToggle\";\nimport { IconButton, Size } from \"../icon-button/IconButton\";\nimport { FilterListSvgIcon } from \"../icon__svg-icon/svg-icons\";\nimport { Tooltip, TooltipPosition } from \"../tooltip/Tooltip\";\nimport { DropdownMenu } from \"../dropdown/DropdownMenu\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { BookTocTagBar } from \"../book-toc-tag-bar/BookTocTagBar\";\nexport var BookTocFilterDropdown = function BookTocFilterDropdown() {\n  var _useTranslator = useTranslator(LocalizationPaths.BookChaptersPageGui),\n      t = _useTranslator[0];\n\n  return /*#__PURE__*/React.createElement(Dropdown, {\n    className: \"bt-filter-dropdown filter-dropdown\"\n  }, /*#__PURE__*/React.createElement(DropdownToggle, null, /*#__PURE__*/React.createElement(IconButton, {\n    size: Size.SM\n  }, /*#__PURE__*/React.createElement(FilterListSvgIcon, null), /*#__PURE__*/React.createElement(Tooltip, {\n    position: TooltipPosition.BottomCenter\n  }, t.secondaryContentBar.tocFilterButton.tooltip))), /*#__PURE__*/React.createElement(DropdownMenu, {\n    className: \"bt-filter-dropdown__menu filter-dropdown__menu content__control-bar-dropdown-item\",\n    openClassName: \"filter-dropdown__menu_open-state\",\n    closeClassName: \"filter-dropdown__menu_close-state\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"bt-filter-dropdown__card card\"\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"card__header\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"card-header__title\"\n  }, \"\\u0424\\u0438\\u043B\\u044C\\u0442\\u0440 \\u0440\\u0430\\u0437\\u0434\\u0435\\u043B\\u043E\\u0432\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card__content\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"scroll-wrapper\"\n  }, /*#__PURE__*/React.createElement(BookTocTagBar, null))))));\n};","import React from \"react\";\nimport { TocCollapseAllButton } from \"../toc-collapse-all-button/TocCollapseAllButton\";\nimport { useTranslator } from \"../../react__hooks/translator.hook\";\nimport { LocalizationPaths } from \"../../localization\";\nimport { BookTocFilterDropdown } from \"../dropdown__filter-dropdown__book_toc/FilterDropdown\";\nimport { ControlBarContent } from \"../content__control-bar/ControlBarContent\";\nexport var BookTocControlBarLayer = function BookTocControlBarLayer() {\n  var _useTranslator = useTranslator(LocalizationPaths.BookChaptersPageGui),\n      t = _useTranslator[0];\n\n  return /*#__PURE__*/React.createElement(ControlBarContent, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-toc-control-bar-layer\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"book-toc-control-bar-layer__label\"\n  }, t.secondaryContentBar.label), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-toc-control-bar-layer__control\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-toc-control-bar-layer__control-item\"\n  }, /*#__PURE__*/React.createElement(BookTocFilterDropdown, null)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"book-toc-control-bar-layer__control-item\"\n  }, /*#__PURE__*/React.createElement(TocCollapseAllButton, {\n    className: \"book-toc-control__item\",\n    collapseGroupId: \"book-toc\"\n  })))));\n};","import _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport \"./book-toc.page.scss\";\nimport React from \"react\";\nimport SliderSecondSpaceLayout from \"../../layouts/slider-second-space-layout/SliderSecondSpaceLayout\";\nimport { BookTocContentLayout } from \"../../layouts/book-toc-content-layout/BookTocContentLayout\";\nimport { ContentLayout } from \"../../layouts/content-layout/ContentLayout\";\nimport { BookTocControlBarLayer } from \"../../components/layer__book-toc__control-bar-layer/BookTocControlBarLayer\";\nimport { WhatIsNewTocPageAppDriver } from \"../../components/app-driver__what-is-new-toc-page/WhatIsNewTocPageAppDriver\";\n\nvar BookTocPage = function BookTocPage(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  return /*#__PURE__*/React.createElement(SliderSecondSpaceLayout, {\n    driver: /*#__PURE__*/React.createElement(WhatIsNewTocPageAppDriver, null),\n    content: /*#__PURE__*/React.createElement(ContentLayout, {\n      controlBar: /*#__PURE__*/React.createElement(BookTocControlBarLayer, null),\n      content: /*#__PURE__*/React.createElement(BookTocContentLayout, null)\n    })\n  });\n};\n\nexport default BookTocPage;","import React, { useLayoutEffect } from \"react\";\nimport BookTocPage from \"./BookTocPage\";\nimport SEO from \"../../components/seo\";\nimport BaseLayout from \"../../layouts/base-layout/BaseLayout\";\nimport { BehaviorNotificationContext } from \"../../react__context/BehaviorNotificationContext\";\nimport { RouterStoreContext } from \"../../stores/RouterStore\";\nimport { Localization } from \"../../react__hooks/translator.hook\";\nimport { BookTocPageMobxEntry, MobxBookTocPageContext } from \"../../mobx__entry/BookTocPageMobxEntry\";\n\nvar BookTocPageProvider = function BookTocPageProvider(_ref) {\n  var pageContext = _ref.pageContext,\n      location = _ref.location;\n  var bookTocTree = pageContext.bookTocTree,\n      localization = pageContext.localization;\n  var mobxEntry = BookTocPageMobxEntry.getInstance({\n    bookTocTree: bookTocTree,\n    location: location\n  });\n  var router = mobxEntry.router;\n  useLayoutEffect(function () {\n    console.log(location);\n    router.setLocation(location);\n  }, []); // useNativeLinkDisableDefaultBehavior(mobxEntry.router);\n\n  return /*#__PURE__*/React.createElement(MobxBookTocPageContext.Provider, {\n    value: mobxEntry\n  }, /*#__PURE__*/React.createElement(BehaviorNotificationContext.Provider, {\n    value: mobxEntry.behaviorNotificationStore\n  }, /*#__PURE__*/React.createElement(Localization.Provider, {\n    value: localization\n  }, /*#__PURE__*/React.createElement(RouterStoreContext.Provider, {\n    value: mobxEntry.router\n  }, /*#__PURE__*/React.createElement(BaseLayout, null, /*#__PURE__*/React.createElement(SEO, null), /*#__PURE__*/React.createElement(BookTocPage, null))))));\n};\n\nexport default BookTocPageProvider;"],"sourceRoot":""}