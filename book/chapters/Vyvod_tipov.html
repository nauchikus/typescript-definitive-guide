<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, maximum-scale=1, user-scalable=no"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script async="" type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/0e24f658e84d5b63500b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/0e24f658e84d5b63500b.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/_next/static/chunks/webpack-0e3c274fd8419109d37b.js" defer=""></script><script src="/_next/static/chunks/framework-2f612445bd50b211f15a.js" defer=""></script><script src="/_next/static/chunks/main-bae6c3d363e548fddd65.js" defer=""></script><script src="/_next/static/chunks/pages/_app-73829bb7425a95cd172f.js" defer=""></script><script src="/_next/static/chunks/452-2343a28788c03f958a4e.js" defer=""></script><script src="/_next/static/chunks/950-86a83352b01b7466f89f.js" defer=""></script><script src="/_next/static/chunks/222-f79b6bb9bf6211af52b8.js" defer=""></script><script src="/_next/static/chunks/460-cf93e771b3da01004124.js" defer=""></script><script src="/_next/static/chunks/763-b007244d3307e1e9232d.js" defer=""></script><script src="/_next/static/chunks/211-d4969ecab0eef9742617.js" defer=""></script><script src="/_next/static/chunks/803-a8b23d070a23d066767a.js" defer=""></script><script src="/_next/static/chunks/pages/book/chapters/%5BchapterId%5D-90bdf3606f579e2b38ce.js" defer=""></script><script src="/_next/static/4NvSniSC7aiYoFi3Wr-BA/_buildManifest.js" defer=""></script><script src="/_next/static/4NvSniSC7aiYoFi3Wr-BA/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="base-layout"><div></div><header class="app-header app-header-grid"><div class="app-header-grid-item__driver-toggle"><button class="app-driver-toggle-btn"><svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" class="svg-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M3 21h18v-2H3v2zM3 8v8l4-4-4-4zm8 9h10v-2H11v2zM3 3v2h18V3H3zm8 6h10V7H11v2zm0 4h10v-2H11v2z"></path></svg></button></div><div class="app-header-grid-item__logo"><span role="img" tabindex="-1" class="anticon app-logo"><svg id="logo_app_svg__Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119.45 44" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false" class=""><defs><style>.logo_app_svg__cls-2{fill:#1d1d1b}</style></defs><g id="logo_app_svg__logo"><path id="logo_app_svg__logo_t" d="M38.41 3v8.11H25.67v34.1h-9.5V11.08H3.43V3z" transform="translate(-3.43 -2)" fill="#3273b9"></path><path id="logo_app_svg__logo_g" class="logo_app_svg__cls-2" d="M63.7 10.29q-6.63 0-9.6 3.69c-2 2.45-3 5.82-3 10.08a20.23 20.23 0 00.73 5.64 12.6 12.6 0 002.19 4.36 10 10 0 003.66 2.83 12.18 12.18 0 005.12 1c1.06 0 2 0 2.71-.07a13.08 13.08 0 002-.24V22.9h9.51v20.91a37.27 37.27 0 01-5.48 1.43 48.07 48.07 0 01-9.33.76 24.32 24.32 0 01-8.62-1.46A18.13 18.13 0 0147 40.27a19 19 0 01-4.23-6.89 26.92 26.92 0 01-1.49-9.32 25 25 0 011.64-9.39 20.25 20.25 0 014.51-6.91 19.11 19.11 0 016.74-4.3A23.25 23.25 0 0162.42 2a34 34 0 015.4.39 34.4 34.4 0 014.18.92 18.52 18.52 0 012.87 1.07 18 18 0 011.61.85l-2.78 7.62a24.88 24.88 0 00-4.48-1.8 19 19 0 00-5.52-.76z" transform="translate(-3.43 -2)"></path><path id="logo_app_svg__logo_d" class="logo_app_svg__cls-2" d="M122.88 24.06a24.63 24.63 0 01-1.71 9.57 17.6 17.6 0 01-4.84 6.76 20.69 20.69 0 01-7.65 4 35.63 35.63 0 01-10.12 1.34q-2.55 0-6-.22a48 48 0 01-6.7-.88V3.52a56.55 56.55 0 016.85-.82q3.57-.21 6.13-.21a36.72 36.72 0 019.84 1.22 20.22 20.22 0 017.59 3.83 17.06 17.06 0 014.87 6.71 25.33 25.33 0 011.74 9.81zM95.39 37.47q.67.06 1.56.09t2.1 0q7.13 0 10.57-3.59t3.45-9.94q0-6.64-3.29-10.06t-10.43-3.38h-2a16.72 16.72 0 00-2 .16z" transform="translate(-3.43 -2)"></path></g></svg></span></div><div class="app-header-grid-item__search"><form class="search" autoComplete="off" action="#"><button class="search__submit-button-placeholder button-with-svg-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" class="svg-icon search__search-svg-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"></path></svg></button><input type="search" class="search__query-input" id="algolia-search" name="app-search-query" placeholder="search..." required=""/></form></div><div class="app-header-grid-item__secondary-bar"><nav class="app-link-bar"><ul class="menu app-link-bar__menu"><li><a class="link svg-link-btn app-link-bar__icon-btn" href="" title="Следить за выходом новых версий в Telegram" target="_blank"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" class="svg-icon"><path d="M18.384 22.779a1.19 1.19 0 001.107.145 1.16 1.16 0 00.724-.84C21.084 18 23.192 7.663 23.983 3.948a.78.78 0 00-.26-.758.8.8 0 00-.797-.14C18.733 4.602 5.82 9.447.542 11.4a.827.827 0 00-.542.799c.012.354.25.661.593.764 2.367.708 5.474 1.693 5.474 1.693s1.452 4.385 2.209 6.615c.095.28.314.5.603.576a.866.866 0 00.811-.207l3.096-2.923s3.572 2.619 5.598 4.062zm-11.01-8.677l1.679 5.538.373-3.507 10.185-9.186a.277.277 0 00.033-.377.284.284 0 00-.376-.064L7.374 14.102z"></path></svg></a></li><li><a class="link svg-link-btn app-link-bar__icon-btn" href="" title="Посетить Github" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="svg-icon app-link-bar__github-svg-icon"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"></path></svg></a></li></ul></nav></div><div class="app-header-grid-item__primary-bar"><div class="dropdown app-nav__dropdown"><button class="dropdown__toggle app-nav__dropdown-toggle_adaptive"><svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" class="svg-icon"><path d="M0 0h24v24H0V0z" fill="none"></path><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"></path></svg></button><div class="dropdown__menu app-nav__dropdown-menu_adaptive"><div class="flat-panel"><div class="app-nav__link-bar app-nav__link-bar_adaptive"><nav class="app-link-bar"><ul class="menu app-link-bar__menu"><li><a class="link svg-link-btn app-link-bar__icon-btn" href="" title="Следить за выходом новых версий в Telegram" target="_blank"><svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414" class="svg-icon"><path d="M18.384 22.779a1.19 1.19 0 001.107.145 1.16 1.16 0 00.724-.84C21.084 18 23.192 7.663 23.983 3.948a.78.78 0 00-.26-.758.8.8 0 00-.797-.14C18.733 4.602 5.82 9.447.542 11.4a.827.827 0 00-.542.799c.012.354.25.661.593.764 2.367.708 5.474 1.693 5.474 1.693s1.452 4.385 2.209 6.615c.095.28.314.5.603.576a.866.866 0 00.811-.207l3.096-2.923s3.572 2.619 5.598 4.062zm-11.01-8.677l1.679 5.538.373-3.507 10.185-9.186a.277.277 0 00.033-.377.284.284 0 00-.376-.064L7.374 14.102z"></path></svg></a></li><li><a class="link svg-link-btn app-link-bar__icon-btn" href="" title="Посетить Github" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" class="svg-icon app-link-bar__github-svg-icon"><path d="M12 0C5.374 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23A11.509 11.509 0 0112 5.803c1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.566 21.797 24 17.3 24 12c0-6.627-5.373-12-12-12z"></path></svg></a></li></ul></nav></div><div class="divide-full_x app-nav__divide_adaptive"></div><div class="app-nav__nav"><nav class="app-nav"><ul class="menu app-nav__menu_adaptive"><li class="menu-item app-nav__menu-item_adaptive"><a class="link" href="/">Главная</a></li><li class="menu-item app-nav__menu-item_adaptive"><a class="link" href="/book/chapters">Оглавление</a></li><li class="menu-item app-nav__menu-item_adaptive"><a class="link" href="/what-is-new">Что нового?</a></li><li class="menu-item app-nav__menu-item_adaptive"><a class="link" href="/pdf">Скачать Pdf</a></li></ul></nav></div></div></div></div></div></header><div class="layer slide-layer" toggle="false"><div class="slide-layer__driver"><div class="slide-layer__fixed-driver"><div class="driver"><div class="layer driver-content-nav"><ul class="ant-menu ant-menu-root ant-menu-inline ant-menu-light driver-content-nav__menu" role="menu" tabindex="0" data-menu-list="true"><li class="ant-menu-submenu ant-menu-submenu-inline ant-menu-submenu-open" role="none"><div role="menuitem" style="padding-left:24px" class="ant-menu-submenu-title" tabindex="-1" aria-expanded="true" aria-haspopup="true"><span class="ant-menu-title-content">Содержание</span><i class="ant-menu-submenu-arrow"></i></div><ul class="ant-menu ant-menu-sub ant-menu-inline" data-menu-list="true"><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/book/chapters/Vyvod_tipov#Vyvod_tipov_-_obshchie_svedeniya">Вывод типов - общие сведения</a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/book/chapters/Vyvod_tipov#Vyvod_primitivnyh_tipov">Вывод примитивных типов</a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/book/chapters/Vyvod_tipov#Vyvod_primitivnyh_tipov_dlya_konstant_(const)_i_polei_tolko_dlya_chteniya_(readonly)">Вывод примитивных типов для констант (const) и полей только для чтения (readonly)</a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/book/chapters/Vyvod_tipov#Vyvod_obektnyh_tipov">Вывод объектных типов</a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/book/chapters/Vyvod_tipov#Vyvod_tipa_dlya_polei_klassa_na_osnove_inicializacii_ih_v_konstruktore">Вывод типа для полей класса на основе инициализации их в конструкторе</a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/book/chapters/Vyvod_tipov#Vyvod_obedinennyh_(Union)_tipov">Вывод объединенных (Union) типов</a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/book/chapters/Vyvod_tipov#Vyvod_peresecheniya_(Intersection)_s_diskriminantnymi_polyami">Вывод пересечения (Intersection) с дискриминантными полями</a></span></li><li role="menuitem" tabindex="-1" style="padding-left:48px" class="ant-menu-item ant-menu-item-only-child"><span class="ant-menu-title-content"><a href="/book/chapters/Vyvod_tipov#Vyvod_tipov_kortej_(Tuple)">Вывод типов кортеж (Tuple)</a></span></li></ul></li></ul><div style="display:none" aria-hidden="true"></div></div></div></div></div><div class="slide-layer__first-empty"></div><div class="slide-layer__content"><div class="content-box"><div class="content-box__page-nav content-box__page-nav_left"><div class="page-nav__bar page-nav__bar_left"><button type="button" class="ant-btn ant-btn-primary ant-btn-icon-only page-nav__btn"><span role="img" aria-label="left" class="anticon anticon-left"><svg viewBox="64 64 896 896" focusable="false" data-icon="left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"></path></svg></span></button></div></div><main id="content" class="content-box__html"><aside><div class="github-file-info-bar"><div class="github-file-info-bar__section github-file-info-bar__section_contributors"><span class="github-file-info-bar__label">Контрибьютеры</span><div class="ant-avatar-group"><a href="https://github.com/nauchikus" target="_blank" class="ant-btn ant-btn-circle github-file-info-bar__avatar-btn"><span class="ant-avatar ant-avatar-circle ant-avatar-image"><img src="https://avatars.githubusercontent.com/u/31518738?v=4"/></span></a></div></div><div class="github-file-info-bar__section github-file-info-bar__section_update-info"><span class="github-file-info-bar__label">Обновлено</span><span class="github-file-info-bar__label_date">4/6/2021</span></div></div></aside><section id="Vyvod_tipov" class="content__section"><h1 class="content__heading">Вывод типов</h1>
<p>Понимание темы, относящейся к такому фундаментальному механизму как <em>вывод типов</em>, поможет разработчику подчинить компилятор <em>tsc</em>, а не наоборот. Невозможно писать программы на языке <em>TypeScript</em>, получая от процесса удовольствие, если нет однозначного ответа на вопрос &quot;указывать типы явно или нет&quot;. Ответы на этот и другие сопряженные вопросы, как раз и содержит данная глава, посвященная подробному рассмотрению каждого момента.</p></section><section id="Vyvod_tipov_-_obshchie_svedeniya" class="content__section"><h2 class="content__heading">Вывод типов - общие сведения</h2>
<p>Чтобы не повторять определения, которые были даны в главе <a href="../003.(%D0%AD%D0%BA%D1%81%D0%BA%D1%83%D1%80%D1%81%20%D0%B2%20%D1%82%D0%B8%D0%BF%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8E)%20%D0%A1%D0%B2%D1%8F%D0%B7%D1%8B%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5,%20%D1%82%D0%B8%D0%BF%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F,%20%D0%B2%D1%8B%D0%B2%D0%BE%D0%B4%20%D1%82%D0%B8%D0%BF%D0%BE%D0%B2">“Экскурс в типизацию - Связывание, типизация, вывод типов”</a>, эту главу стоит начать с неформально определения.</p>
<p><em>Вывод типов</em> — это механизм, позволяющий сделать процесс разработки на статически типизированном <em>TypeScript</em> более простой, за счет перекладывания на него рутинной работы по явной аннотации типов. Может показаться, что вывод типов берется за дело только тогда, когда при разборе кода попадается отсутствующая аннотация типа. Но это не так. Компилятор не доверяет разработчику и весь код, в штатном режиме, проходит через вывод типов. Не важно, в полной мере разработчик указывает типы определяемым им конструкциям или нет, что бы их проверить на адекватность и совместимость, вывод типов обязан создать для них собственное описание (понимать как объявление типа).</p>
<p>В этом механизме нет ничего сложного, но, несмотря на это, у начинающих разработчиков <em>TypeScript</em>, некоторые неочевидные особенности могут вызвать вопросы, главным из которых является уже упомянутый в самом начале - &quot;указывать явно типы или нет&quot;.</p>
<p>Ответ очевиден и прост — во всех случаях, допускающих отсутствие явной аннотации типа, эту работу стоит поручать выводу типов. Другими словами, не нужно указывать типы явно, если это за вас сможет сделать вывод типов. Единственное исключение может возникнуть при необходимости повышения семантики кода, что относительно аннотаций типа бывает сравнительно редко.</p></section><section id="Vyvod_primitivnyh_tipov" class="content__section"><h2 class="content__heading">Вывод примитивных типов</h2>
<p>Вывод типов, для значений принадлежащих к так называемым примитивным типам, не таит в себе ничего необычного. Кроме того, будь это переменные, поля, параметры, возвращаемые из функций и методов, или значения — результат во всех случаях будет идентичным.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">enum</span><span> </span><span class="token maybe-class-name">Enums</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token maybe-class-name">Value</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> v0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v0: number</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v1: string</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v2 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v2: boolean</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v3 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token known-class-name" style="color:#DD4A68">Symbol</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v3: symbol</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v4 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token maybe-class-name">Enums</span><span class="token" style="color:#999">.</span><span class="token property-access maybe-class-name">Value</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v4: Enums</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div></section><section id="Vyvod_primitivnyh_tipov_dlya_konstant_(const)_i_polei_tolko_dlya_chteniya_(readonly)" class="content__section"><h2 class="content__heading">Вывод примитивных типов для констант (const) и полей только для чтения (readonly)</h2>
<p>Когда дело доходит до присваивания значений, принадлежащих к примитивным типам, таким конструкциям, как константы (<code class="content__code_inline">const</code>) и неизменяемые поля (модификатор <code class="content__code_inline">readonly</code>), поведение вывода типов изменяется.</p>
<p>В случае, когда значение принадлежит к примитивным типам <code class="content__code_inline">number</code>, <code class="content__code_inline">string</code> или <code class="content__code_inline">boolean</code>, вывод типов указывает принадлежность к литеральным примитивным типам, определяемым самим значением.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">const</span><span> v0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v0: 0</span><span>
</span><span></span><span class="token" style="color:#07a">const</span><span> v1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v1: &#x27;text&#x27;</span><span>
</span><span></span><span class="token" style="color:#07a">const</span><span> v2 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v2: true</span><span>
</span>
<span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Identifier</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">readonly</span><span> f0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// f0: 0</span><span>
</span><span>    </span><span class="token" style="color:#07a">readonly</span><span> f1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// f1: &#x27;text&#x27;</span><span>
</span><span>    </span><span class="token" style="color:#07a">readonly</span><span> f2 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">;</span><span class="token" style="color:slategray">// f2: true</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Если значение принадлежит к типу <code class="content__code_inline">enum</code>, то вывод типов установит принадлежность к указанному значению.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">enum</span><span> </span><span class="token maybe-class-name">Enums</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token maybe-class-name">Value</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:#07a">const</span><span> v </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token maybe-class-name">Enums</span><span class="token" style="color:#999">.</span><span class="token property-access maybe-class-name">Value</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// const v: Enums.Value</span><span>
</span>
<span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Identifier</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">readonly</span><span> f </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token maybe-class-name">Enums</span><span class="token" style="color:#999">.</span><span class="token property-access maybe-class-name">Value</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// f: Enums.Value</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Когда вывод типов встречает значение, принадлежащее к типу <code class="content__code_inline">symbol</code>, его поведение зависит от конструкции, которой присваивается значение. Так, если вывод типов работает с константой, то тип определяется как запрос типа (глава <a href="../017.(%D0%A2%D0%B8%D0%BF%D1%8B)%20Type%20Queries%20(%D0%B7%D0%B0%D0%BF%D1%80%D0%BE%D1%81%D1%8B%20%D1%82%D0%B8%D0%BF%D0%B0),%20Alias%20(%D0%BF%D1%81%D0%B5%D0%B2%D0%B4%D0%BE%D0%BD%D0%B8%D0%BC%D1%8B%20%D1%82%D0%B8%D0%BF%D0%B0)">“Type Queries (запросы типа), Alias (псевдонимы типа)”</a>) самой константы. Если вывод типов устанавливает принадлежность к типу неизменяемого поля, то тип будет определен как <code class="content__code_inline">symbol</code>. Происходит так потому, что вместе с созданием нового экземпляра в системе будет определяться и новый символ, что противоречит правилам установленным для <code class="content__code_inline">Unique Symbol</code> (глава <a href="../018.%28%D0%A2%D0%B8%D0%BF%D1%8B%29%20%D0%9F%D1%80%D0%B8%D0%BC%D0%B8%D1%82%D0%B8%D0%B2%D0%BD%D1%8B%D0%B5%20%D0%BB%D0%B8%D1%82%D0%B5%D1%80%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D1%82%D0%B8%D0%BF%D1%8B%20Number%2C%20String%2C%20Template%20String%2C%20Boolean%2C%20Unique%20Symbol%2C%20Enum">“Типы - Примитивные литеральные типы Number, String, Boolean, Unique Symbol, Enum”</a>).</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">const</span><span> v </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token known-class-name" style="color:#DD4A68">Symbol</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// const v: typeof v</span><span>
</span>
<span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Identifier</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">readonly</span><span> f </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token known-class-name" style="color:#DD4A68">Symbol</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// f: symbol</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div></section><section id="Vyvod_obektnyh_tipov" class="content__section"><h2 class="content__heading">Вывод объектных типов</h2>
<p>С выводом объектных типов не связанно ничего необычного. Кроме того, поведение вывода типов одинаково для всех конструкций.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">class</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">ClassType</span><span> </span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">interface</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">InterfaceType</span><span> </span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">TypeAlias</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> </span><span class="token" style="color:#07a">type</span><span class="token maybe-class-name">Interface</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token maybe-class-name">InterfaceType</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> </span><span class="token" style="color:#07a">type</span><span class="token maybe-class-name">TypeAlias</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token maybe-class-name">TypeAlias</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> v0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span class="token" style="color:#999">,</span><span> c</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">true</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v0: {a: number, b:string, c: boolean}</span><span>
</span><span></span><span class="token" style="color:#07a">const</span><span> v1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span class="token" style="color:#999">,</span><span> c</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">true</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// const v1: {a: number, b: string, c: boolean}</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> v3 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">ClassType</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v3: ClassType</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v4 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">type</span><span class="token maybe-class-name">Interface</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v4: InterfaceType</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v5 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">type</span><span class="token maybe-class-name">TypeAlias</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v5: number</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div></section><section id="Vyvod_tipa_dlya_polei_klassa_na_osnove_inicializacii_ih_v_konstruktore" class="content__section"><h2 class="content__heading">Вывод типа для полей класса на основе инициализации их в конструкторе</h2>
<p>Если прочитать главу, посвященную конфигурации компилятора, станет известно, что при активном флаге <code class="content__code_inline">--noImplicitAny</code>, возникает ошибка, если тело класса включает поля без аннотации типа. Дело в том, что вывод типов расценивает поля без явной аннотации типа как принадлежащие к <code class="content__code_inline">any</code>, который как раз и не допускает активированный флаг <code class="content__code_inline">--noImplicitAny</code>.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">class</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Square</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token doc-comment" style="color:slategray">/**
</span><span class="token doc-comment" style="color:slategray">     * Поля без явной аннотации типа.
</span><span class="token doc-comment" style="color:slategray">     * Вывод типов определяет их
</span><span class="token doc-comment" style="color:slategray">     * принадлежность к типу any.
</span><span class="token doc-comment" style="color:slategray">     *
</span><span class="token doc-comment" style="color:slategray">     * (property) Square.area: any
</span><span class="token doc-comment" style="color:slategray">     * (property) Square.sideLength: any
</span><span class="token doc-comment" style="color:slategray">     *
</span><span class="token doc-comment" style="color:slategray">     * От этого возникает ошибка -&gt;
</span><span class="token doc-comment" style="color:slategray">     * TS7008: Member &#x27;area&#x27; implicitly has an &#x27;any&#x27; type.
</span><span class="token doc-comment" style="color:slategray">     * TS7008: Member &#x27;sideLength&#x27; implicitly has an &#x27;any&#x27; type.
</span><span class="token doc-comment" style="color:slategray">     */</span><span>
</span><span>    area</span><span class="token" style="color:#999">;</span><span>
</span><span>    sideLength</span><span class="token" style="color:#999">;</span><span>
</span>
<span>    </span><span class="token" style="color:#DD4A68">constructor</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Но, к счастью, тип полей без явной аннотации может быть автоматически выведен, если инициализация таких полей происходит в конструкторе.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">class</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Square</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token doc-comment" style="color:slategray">/**
</span><span class="token doc-comment" style="color:slategray">     * Поля без явной аннотации типа,
</span><span class="token doc-comment" style="color:slategray">     * но ошибки не возникает, поскольку
</span><span class="token doc-comment" style="color:slategray">     * вывод типов определяет их принадлежность
</span><span class="token doc-comment" style="color:slategray">     * к типу number, так как поле sideLength
</span><span class="token doc-comment" style="color:slategray">     * инициализируется в конструкторе его параметром,
</span><span class="token doc-comment" style="color:slategray">     * принадлежащим к типу number, а поле area инициализируется
</span><span class="token doc-comment" style="color:slategray">     * там же с помощью выражения, результат которого
</span><span class="token doc-comment" style="color:slategray">     * также принадлежит к типу number.
</span><span class="token doc-comment" style="color:slategray">     *
</span><span class="token doc-comment" style="color:slategray">     * (property) Square.area: number
</span><span class="token doc-comment" style="color:slategray">     * (property) Square.sideLength: number
</span><span class="token doc-comment" style="color:slategray">     */</span><span>
</span><span>    area</span><span class="token" style="color:#999">;</span><span>
</span><span>    sideLength</span><span class="token" style="color:#999">;</span><span>
</span>
<span>    </span><span class="token" style="color:#DD4A68">constructor</span><span class="token" style="color:#999">(</span><span>sideLength</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>        </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">sideLength</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> sideLength</span><span class="token" style="color:#999">;</span><span>
</span><span>        </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">area</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">sideLength</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">**</span><span> </span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Не будет лишним сделать акцент на словах об инициализации в конструкторе, поскольку это условие является обязательным. При попытке инициализации полей вне тела конструктора будет вызвана ошибка, даже если инициализация производится в методе, вызываемом из конструктора.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">class</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Square</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token doc-comment" style="color:slategray">/**
</span><span class="token doc-comment" style="color:slategray">     * Error -&gt;
</span><span class="token doc-comment" style="color:slategray">     * TS7008: Member &#x27;area&#x27; implicitly has an &#x27;any&#x27; type.
</span><span class="token doc-comment" style="color:slategray">     */</span><span>
</span><span>    area</span><span class="token" style="color:#999">;</span><span>
</span><span>    sideLength</span><span class="token" style="color:#999">;</span><span>
</span>
<span>    </span><span class="token" style="color:#DD4A68">constructor</span><span class="token" style="color:#999">(</span><span>sideLength</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>        </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">sideLength</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> sideLength</span><span class="token" style="color:#999">;</span><span>
</span><span>        </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">init</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span>
<span>    </span><span class="token" style="color:#DD4A68">init</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">{</span><span>
</span><span>        </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">area</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">sideLength</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">**</span><span> </span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Если инициализация полей класса без аннотации по каким-то причинам может не состоятся, то тип будет выведен как объединение, включающее так же и тип <code class="content__code_inline">undefined</code>.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">class</span><span> </span><span class="token maybe-class-name" style="color:#DD4A68">Square</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token doc-comment" style="color:slategray">/**
</span><span class="token doc-comment" style="color:slategray">     * [1] ...вывод типов определяет принадлежность
</span><span class="token doc-comment" style="color:slategray">     * поля sideLength как -&gt;
</span><span class="token doc-comment" style="color:slategray">     *
</span><span class="token doc-comment" style="color:slategray">     * (property) Square.sideLength: number | undefined
</span><span class="token doc-comment" style="color:slategray">     */</span><span>
</span><span>    sideLength</span><span class="token" style="color:#999">;</span><span>
</span>
<span>    </span><span class="token" style="color:#DD4A68">constructor</span><span class="token" style="color:#999">(</span><span>sideLength</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>        </span><span class="token doc-comment" style="color:slategray">/**
</span><span class="token doc-comment" style="color:slategray">         * [0] Поскольку инициализация зависит от
</span><span class="token doc-comment" style="color:slategray">         * условия выражения, которое выполнится
</span><span class="token doc-comment" style="color:slategray">         * только во время выполнения программы...
</span><span class="token doc-comment" style="color:slategray">         */</span><span>
</span><span>        </span><span class="token control-flow" style="color:#07a">if</span><span> </span><span class="token" style="color:#999">(</span><span class="token known-class-name" style="color:#DD4A68">Math</span><span class="token" style="color:#999">.</span><span class="token method property-access" style="color:#DD4A68">random</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>            </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">sideLength</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> sideLength</span><span class="token" style="color:#999">;</span><span>
</span><span>        </span><span class="token" style="color:#999">}</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span>
<span>    </span><span class="token" style="color:#07a">get</span><span> </span><span class="token" style="color:#DD4A68">area</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>        </span><span class="token doc-comment" style="color:slategray">/**
</span><span class="token doc-comment" style="color:slategray">         * [2] Тем не менее, возникает ошибка,
</span><span class="token doc-comment" style="color:slategray">         * поскольку операция возведения в степень
</span><span class="token doc-comment" style="color:slategray">         * производится над значением, которое может
</span><span class="token doc-comment" style="color:slategray">         * быть undefined
</span><span class="token doc-comment" style="color:slategray">         *
</span><span class="token doc-comment" style="color:slategray">         * Error -&gt;
</span><span class="token doc-comment" style="color:slategray">         * Object is possibly &#x27;undefined&#x27;.
</span><span class="token doc-comment" style="color:slategray">         */</span><span>
</span><span>        </span><span class="token control-flow" style="color:#07a">return</span><span> </span><span class="token" style="color:#07a">this</span><span class="token" style="color:#999">.</span><span class="token property-access">sideLength</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">**</span><span> </span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#999">}</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div></section><section id="Vyvod_obedinennyh_(Union)_tipov" class="content__section"><h2 class="content__heading">Вывод объединенных (Union) типов</h2>
<p>С выводом типов объединения (глава <a href="../016.(%D0%A2%D0%B8%D0%BF%D1%8B)%20%D0%A2%D0%B8%D0%BF%D1%8B%20-%20Union,%20Intersection">“Типы - Union, Intersection”</a>) связаны как очевидные, так и нет, случаи.</p>
<p>К очевидным случаям можно отнести массив, состоящий из разных примитивных типов. В этом случае будет выведен очевидный тип <em>объединение</em>, которое определяется типами присутствующих в массиве примитивов.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">let</span><span> v </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v: (string | number | boolean)[]</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>В случае получения любого элемента массива, вывод типов также установит принадлежность к объединенному типу.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">let</span><span> v </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v: (string | number | boolean)[]</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> item </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> v</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let item: string | number | boolean</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Неочевидные особенности лучше всего начать с примера, в котором вывод типа определяет принадлежность значения к массиву, состоящему из обычных объектных типов.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">let</span><span> v </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">6</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v: { a: number, b: string }[]</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>В примере, вывод типов выводит ожидаемый и предсказуемый результат для массива объектов, чьи типы полностью идентичны. Идентичны они по той причине, что вывод типов установит тип <code class="content__code_inline">{a: number, b: string}</code> для всех элементов массива.</p>
<p>Но стоит изменить условие, допустим, убрать объявление одного поля и картина кардинально изменится. Вместо массива обычных объектов, тип будет выведен, как массив объединенного типа.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">let</span><span> v </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">6</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">7</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">true</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v: ({ a: number, b: string } | { a: number, b?: undefined } | { a: number, b: boolean })[]</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Как видно из примера выше, вывод типов приводит все объектные типы, составляющие тип объединение, к единому виду. Он добавляет к типам несуществующие в них, но существующие в других объектных типах, поля, декларируя их как необязательные (глава <a href="../031.%28%D0%A0%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D1%82%D0%B8%D0%BF%D0%B0%D0%BC%D0%B8%29%20%D0%9E%D0%BF%D0%B5%D1%80%D0%B0%D1%82%D0%BE%D1%80%D1%8B%20-%20Optional%2C%20Not-Null%20Not-Undefined%2C%20Definite%20Assignment%20Assertion">“Операторы - Optional, Not-Null, Not-Undefined, Definite Assignment Assertion”</a>). Сделано это для возможности конкретизировать тип любого элемента массива. Простыми словами, что бы не получить ошибку во время выполнения, любой элемент массива должен иметь общие для всех элементов признаки. Но так как в реальности, в объектах, некоторые члены вовсе могут отсутствовать, вывод типов, что бы повысить типобезопасность, декларирует их как необязательные. Таким образом он предупреждает разработчика о возможности возникновения ситуации, при которой эти члены будут иметь значение <code class="content__code_inline">undefined</code>, что и демонстрируется в примере ниже.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">let</span><span> v </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&#x27;text&#x27;</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">6</span><span> </span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">,</span><span>
</span><span>    </span><span class="token" style="color:#999">{</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">7</span><span class="token" style="color:#999">,</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">true</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v: ({ a: number, b: string } | { a: number, b?: undefined } | { a: number, b: boolean })[]</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> a </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> v</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">.</span><span class="token property-access">a</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let a: number</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> b </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> v</span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">.</span><span class="token property-access">b</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let b: string | boolean | undefined</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Если в качестве значений элементов массива выступают экземпляры классов, не связанных отношением наследования, то они и будут определять тип объединение.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">public</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">B</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token" style="color:#07a">public</span><span> a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">string</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">;</span><span>
</span><span>    </span><span class="token" style="color:#07a">public</span><span> b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> v </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span>
</span><span>    </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">A</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span>
</span><span>    </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">B</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span>
</span><span></span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v: (A | B)[]</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>В случае, если элементы массива являются экземплярами классов, связанных отношением наследования (<em>номинативная типизация</em> <a href="../009.(%D0%AD%D0%BA%D1%81%D0%BA%D1%83%D1%80%D1%81%20%D0%B2%20%D1%82%D0%B8%D0%BF%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8E)%20%D0%A1%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C%20%D1%82%D0%B8%D0%BF%D0%BE%D0%B2%20%D0%BD%D0%B0%20%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5%20%D0%B2%D0%B8%D0%B4%D0%B0%20%D1%82%D0%B8%D0%BF%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8">“Экскурс в типизацию - Совместимость типов на основе вида типизации”</a>), то выводимый тип будет ограничен самым базовым типом.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">B</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span> f0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">C</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span> f1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">D</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span> f2 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">E</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#905">D</span><span> </span><span class="token" style="color:#999">{</span><span> f3 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> v3 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">A</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">B</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">C</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">D</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">E</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span>  </span><span class="token" style="color:slategray">// let v3: A[]</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v4 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">B</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">C</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">D</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">E</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span>  </span><span class="token" style="color:slategray">// let v4: (B | C | D)[]</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Те же самые правила применяются при выводе типа значения, возвращаемого тернарным оператором.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">B</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span> f0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">C</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span> f1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">D</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#999">{</span><span> f2 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span><span></span><span class="token" style="color:#07a">class</span><span> </span><span class="token" style="color:#905">E</span><span> </span><span class="token" style="color:#07a">extends</span><span> </span><span class="token" style="color:#905">D</span><span> </span><span class="token" style="color:#999">{</span><span> f3 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> v0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">false</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">A</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">B</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>  </span><span class="token" style="color:slategray">// let v0: A</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">false</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">B</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">C</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>  </span><span class="token" style="color:slategray">// let v1: B | C</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v2 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">false</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">C</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#07a">new</span><span> </span><span class="token" style="color:#905">D</span><span class="token" style="color:#999">(</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span>  </span><span class="token" style="color:slategray">// let v2: C | D</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Так как выражение, расположенное в блоке тернарного оператора, вычисляется на этапе выполнения программы, вывод типов не может знать результата его вычисления на этапе компиляции. Поэтому, что бы не нарушить типобезопасность, он вынужден указывать объединенный тип, определяемый всеми блоками выражения.</p></section><section id="Vyvod_peresecheniya_(Intersection)_s_diskriminantnymi_polyami" class="content__section"><h2 class="content__heading">Вывод пересечения (Intersection) с дискриминантными полями</h2>
<p>Если при определении типа пересечения, определяющее его множество включает больше одного типа, определяющего одноименные дискриминантные поля, принадлежащие к разным типам, то такое пересечение определяется как тип <code class="content__code_inline">never</code>. Данная тема подробно бала рассмотрены в главе <a href="../033.%28%D0%A2%D0%B8%D0%BF%D1%8B%29%20%D0%94%D0%B8%D1%81%D0%BA%D1%80%D0%B8%D0%BC%D0%B8%D0%BD%D0%B0%D0%BD%D1%82%D0%BD%D0%BE%D0%B5%20%D0%BE%D0%B1%D1%8A%D0%B5%D0%B4%D0%B8%D0%BD%D0%B5%D0%BD%D0%B8%D0%B5%20%28Discriminated%20Union%29">&quot;Типы - Discriminated Union&quot;</a></p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;a&quot;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// дискриминантное поле</span><span>
</span>
<span>    a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">B</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;b&quot;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// дискриминантное поле</span><span>
</span>
<span>    b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">C</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    c</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">D</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    d</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token doc-comment" style="color:slategray">/**
</span><span class="token doc-comment" style="color:slategray"> * Как видно, типы A и B
</span><span class="token doc-comment" style="color:slategray"> * определяют одноименное
</span><span class="token doc-comment" style="color:slategray"> * дискриминантное поле type,
</span><span class="token doc-comment" style="color:slategray"> * принадлежащее к разным типам &quot;a&quot; и &quot;b&quot;,
</span><span class="token doc-comment" style="color:slategray"> * поэтому тип T будет определен
</span><span class="token doc-comment" style="color:slategray"> * как тип never.
</span><span class="token doc-comment" style="color:slategray"> *
</span><span class="token doc-comment" style="color:slategray"> * type T = never
</span><span class="token doc-comment" style="color:slategray"> */</span><span>
</span>
<span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">T</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> </span><span class="token" style="color:#905">B</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> </span><span class="token" style="color:#905">C</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> </span><span class="token" style="color:#905">D</span><span class="token" style="color:#999">;</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Но стоит обратить внимание, что речь идет только об одноименных полях принадлежащих к разным типам. То есть, если множество, определяющее пересечение, включает несколько типов с одноименными дискриминантными полями, принадлежащих к одному типу, то такое множество будет определено ожидаемым образом.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;a&quot;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// дискриминантное поле с типом a</span><span>
</span>
<span>    a</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">B</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    type</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">&quot;a&quot;</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// дискриминантное поле с типом b</span><span>
</span>
<span>    b</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">C</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    c</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">D</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    d</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span class="token" style="color:#999">;</span><span>
</span>
<span></span><span class="token doc-comment" style="color:slategray">/**
</span><span class="token doc-comment" style="color:slategray"> * Как видно, типы A и B
</span><span class="token doc-comment" style="color:slategray"> * по-прежнему определяют одноименные
</span><span class="token doc-comment" style="color:slategray"> * дискриминантные поля type, но на этот
</span><span class="token doc-comment" style="color:slategray"> * раз они принадлежат к одному типу &quot;a&quot;,
</span><span class="token doc-comment" style="color:slategray"> * поэтому тип T будет определен ожидаемым
</span><span class="token doc-comment" style="color:slategray"> * образом.
</span><span class="token doc-comment" style="color:slategray"> *
</span><span class="token doc-comment" style="color:slategray"> *
</span><span class="token doc-comment" style="color:slategray"> *
</span><span class="token doc-comment" style="color:slategray"> * type T = A &amp; B &amp; C &amp; D
</span><span class="token doc-comment" style="color:slategray"> */</span><span>
</span>
<span></span><span class="token" style="color:#07a">type</span><span> </span><span class="token" style="color:#905">T</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#905">A</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> </span><span class="token" style="color:#905">B</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> </span><span class="token" style="color:#905">C</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&amp;</span><span> </span><span class="token" style="color:#905">D</span><span class="token" style="color:#999">;</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div></section><section id="Vyvod_tipov_kortej_(Tuple)" class="content__section"><h2 class="content__heading">Вывод типов кортеж (Tuple)</h2>
<p>Начать стоит с напоминания, что значение длины кортежа, содержащего элементы, помеченные как необязательные, принадлежит к типу объединению (<code class="content__code_inline">Union</code>), который составляют литеральные числовые типы.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">function</span><span> </span><span class="token" style="color:#DD4A68">f</span><span class="token" style="color:#999">(</span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>rest</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">string</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">boolean</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">)</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">string</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">boolean</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">?</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> rest</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> l </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">f</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">.</span><span class="token property-access">length</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let l: 1 | 2 | 3</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Кроме того, остаточные параметры (<code class="content__code_inline">...rest</code>), аннотированные с помощью параметра типа, рассматриваются и представляются выводом типа как принадлежащие к типу-кортежу.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">function</span><span> </span><span class="token generic-function" style="color:#DD4A68">f</span><span class="token generic-function generic" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token generic-function generic" style="color:#905">T</span><span class="token generic-function generic" style="color:#DD4A68"> </span><span class="token generic-function generic" style="color:#07a">extends</span><span class="token generic-function generic" style="color:#DD4A68"> </span><span class="token generic-function generic" style="color:#690">any</span><span class="token generic-function generic" style="color:#999">[</span><span class="token generic-function generic" style="color:#999">]</span><span class="token generic-function generic" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">(</span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>rest</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">T</span><span class="token" style="color:#999">)</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">T</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> rest</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:slategray">// рассматриваются</span><span>
</span>
<span></span><span class="token" style="color:#DD4A68">f</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// function f&lt;[number]&gt;(rest_0: number): [number]</span><span>
</span><span></span><span class="token" style="color:#DD4A68">f</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// function f&lt;[number, string]&gt;(rest_0: number, rest_1: string): [number, string]</span><span>
</span><span></span><span class="token" style="color:#DD4A68">f</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// function f&lt;[number, string, boolean]&gt;(rest_0: number, rest_1: string, rest_2: boolean): [number, string, boolean]</span><span>
</span>
<span></span><span class="token" style="color:slategray">// представляются</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> v0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">f</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v0: [number]</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">f</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v1: [number, string]</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v2 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">f</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v2: [number, string, boolean]</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div>
<p>Если функция, определяющая остаточные параметры, принадлежащие к параметру типа, будет вызвана с аргументами, включающих массив, указанный при помощи расширяющего синтаксиса (<em>spread syntax</em>), то тип для него будет выведен в виде остаточного типа <code class="content__code_inline">...rest</code>.</p>
<div class="content__code"><div class="content__code-panel_top content__code-panel_lang_ts"><span class="content_code-label_lang">ts</span></div><pre class="content__pre"><div style="color:black;background:node;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre-wrap;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto"><code class="language-ts" style="color:black;background:none;text-shadow:0 1px white;font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#07a">function</span><span> </span><span class="token generic-function" style="color:#DD4A68">tuple</span><span class="token generic-function generic" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&lt;</span><span class="token generic-function generic" style="color:#905">T</span><span class="token generic-function generic" style="color:#DD4A68"> </span><span class="token generic-function generic" style="color:#07a">extends</span><span class="token generic-function generic" style="color:#DD4A68"> </span><span class="token generic-function generic" style="color:#690">any</span><span class="token generic-function generic" style="color:#999">[</span><span class="token generic-function generic" style="color:#999">]</span><span class="token generic-function generic" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">&gt;</span><span class="token" style="color:#999">(</span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>args</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">T</span><span class="token" style="color:#999">)</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#905">T</span><span> </span><span class="token" style="color:#999">{</span><span>
</span><span>    </span><span class="token control-flow" style="color:#07a">return</span><span> args</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#999">}</span><span>
</span>
<span></span><span class="token" style="color:#07a">let</span><span> numberAll</span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">:</span><span> </span><span class="token" style="color:#690">number</span><span class="token" style="color:#999">[</span><span class="token" style="color:#999">]</span><span> </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#999">[</span><span class="token" style="color:#905">0</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">1</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">2</span><span class="token" style="color:#999">]</span><span class="token" style="color:#999">;</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v0 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">tuple</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#905">true</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v0: [number, string, boolean]</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v1 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">tuple</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>numberAll</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v1: [number, ...number[]]</span><span>
</span><span></span><span class="token" style="color:#07a">let</span><span> v2 </span><span class="token" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">=</span><span> </span><span class="token" style="color:#DD4A68">tuple</span><span class="token" style="color:#999">(</span><span class="token" style="color:#905">5</span><span class="token" style="color:#999">,</span><span> </span><span class="token spread" style="color:#9a6e3a;background:hsla(0, 0%, 100%, .5)">...</span><span>numberAll</span><span class="token" style="color:#999">,</span><span> </span><span class="token" style="color:#690">&#x27;&#x27;</span><span class="token" style="color:#999">)</span><span class="token" style="color:#999">;</span><span> </span><span class="token" style="color:slategray">// let v2: [number, ...number[], string]</span></code></div></pre><div class="content__code-panel_bottom content__code-panel_lang_ts"></div></div></section><aside class="content-box__page__content-bar_post"><nav class="post-content-bar__nav"><a href="Zashchitniki_tipa" class="ant-btn ant-btn-lg ant-btn-block post-content-bar__nav__btn post-content-bar__nav__btn_prev"><div class="post-content-bar__nav__btn_padding-fix"><span role="img" aria-label="arrow-left" class="anticon anticon-arrow-left post-content-bar__nav__btn__icon_prev"><svg viewBox="64 64 896 896" focusable="false" data-icon="arrow-left" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"></path></svg></span><span class="post-content-bar__nav__btn__label">Защитники типа</span></div></a><a href="Sovmestimost_obektnyh_tipov_(Compatible_Object_Types)" class="ant-btn ant-btn-lg ant-btn-block post-content-bar__nav__btn post-content-bar__nav__btn_next"><div class="post-content-bar__nav__btn_padding-fix"><span class="post-content-bar__nav__btn__label">Совместимость объектных типов (Compatible Object Types)</span><span role="img" aria-label="arrow-right" class="anticon anticon-arrow-right post-content-bar__nav__btn__icon_next"><svg viewBox="64 64 896 896" focusable="false" data-icon="arrow-right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"></path></svg></span></div></a></nav></aside></main><div class="content-box__page-nav content-box__page-nav_right"><div class="page-nav__bar page-nav__bar_right"><span style="display:inline-block;cursor:not-allowed" class="page-nav__btn ant-tooltip-disabled-compatible-wrapper"><button disabled="" style="pointer-events:none" type="button" class="ant-btn ant-btn-primary ant-btn-icon-only"><span role="img" aria-label="up" class="anticon anticon-up"><svg viewBox="64 64 896 896" focusable="false" data-icon="up" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M890.5 755.3L537.9 269.2c-12.8-17.6-39-17.6-51.7 0L133.5 755.3A8 8 0 00140 768h75c5.1 0 9.9-2.5 12.9-6.6L512 369.8l284.1 391.6c3 4.1 7.8 6.6 12.9 6.6h75c6.5 0 10.3-7.4 6.5-12.7z"></path></svg></span></button></span><button type="button" class="ant-btn ant-btn-primary ant-btn-icon-only page-nav__btn page-nav__btn_next-page"><span role="img" aria-label="right" class="anticon anticon-right"><svg viewBox="64 64 896 896" focusable="false" data-icon="right" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"></path></svg></span></button><span style="display:inline-block;cursor:not-allowed" class="page-nav__btn ant-tooltip-disabled-compatible-wrapper"><button disabled="" style="pointer-events:none" type="button" class="ant-btn ant-btn-primary ant-btn-icon-only"><span role="img" aria-label="down" class="anticon anticon-down"><svg viewBox="64 64 896 896" focusable="false" data-icon="down" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"></path></svg></span></button></span></div></div></div></div><div class="slide-layer__last-empty"></div></div><footer class="app-footer"><div class="app-footer__empty"></div><div class="app-footer_contacts app-footer__section"></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"urlResolver":{"image":"https://raw.githubusercontent.com/nauchikus/typescript-definitive-guide/master/book/ru/chapters/039.(Типизация) Вывод типов/images/"},"sectionInfoAll":[{"key":"Вывод типов","elementId":"Vyvod_tipov","markdown":"# Вывод типов\n\nПонимание темы, относящейся к такому фундаментальному механизму как _вывод типов_, поможет разработчику подчинить компилятор _tsc_, а не наоборот. Невозможно писать программы на языке _TypeScript_, получая от процесса удовольствие, если нет однозначного ответа на вопрос \"указывать типы явно или нет\". Ответы на этот и другие сопряженные вопросы, как раз и содержит данная глава, посвященная подробному рассмотрению каждого момента."},{"key":"Вывод типов_0","elementId":"Vyvod_tipov_-_obshchie_svedeniya","markdown":"## Вывод типов - общие сведения\n\nЧтобы не повторять определения, которые были даны в главе [“Экскурс в типизацию - Связывание, типизация, вывод типов”](../003.(Экскурс%20в%20типизацию)%20Связывание,%20типизация,%20вывод%20типов), эту главу стоит начать с неформально определения.\n\n\n_Вывод типов_ — это механизм, позволяющий сделать процесс разработки на статически типизированном _TypeScript_ более простой, за счет перекладывания на него рутинной работы по явной аннотации типов. Может показаться, что вывод типов берется за дело только тогда, когда при разборе кода попадается отсутствующая аннотация типа. Но это не так. Компилятор не доверяет разработчику и весь код, в штатном режиме, проходит через вывод типов. Не важно, в полной мере разработчик указывает типы определяемым им конструкциям или нет, что бы их проверить на адекватность и совместимость, вывод типов обязан создать для них собственное описание (понимать как объявление типа).\n\nВ этом механизме нет ничего сложного, но, несмотря на это, у начинающих разработчиков _TypeScript_, некоторые неочевидные особенности могут вызвать вопросы, главным из которых является уже упомянутый в самом начале - \"указывать явно типы или нет\".\n\nОтвет очевиден и прост — во всех случаях, допускающих отсутствие явной аннотации типа, эту работу стоит поручать выводу типов. Другими словами, не нужно указывать типы явно, если это за вас сможет сделать вывод типов. Единственное исключение может возникнуть при необходимости повышения семантики кода, что относительно аннотаций типа бывает сравнительно редко."},{"key":"Вывод типов_1","elementId":"Vyvod_primitivnyh_tipov","markdown":"## Вывод примитивных типов\n\nВывод типов, для значений принадлежащих к так называемым примитивным типам, не таит в себе ничего необычного. Кроме того, будь это переменные, поля, параметры, возвращаемые из функций и методов, или значения — результат во всех случаях будет идентичным.\n\n`````ts\nenum Enums {\n    Value\n};\n\nlet v0 = 0; // let v0: number\nlet v1 = 'text'; // let v1: string\nlet v2 = true; // let v2: boolean\nlet v3 = Symbol(); // let v3: symbol\nlet v4 = Enums.Value; // let v4: Enums\n`````"},{"key":"Вывод типов_2","elementId":"Vyvod_primitivnyh_tipov_dlya_konstant_(const)_i_polei_tolko_dlya_chteniya_(readonly)","markdown":"## Вывод примитивных типов для констант (const) и полей только для чтения (readonly)\n\nКогда дело доходит до присваивания значений, принадлежащих к примитивным типам, таким конструкциям, как константы (`const`) и неизменяемые поля (модификатор `readonly`), поведение вывода типов изменяется.\n\nВ случае, когда значение принадлежит к примитивным типам `number`, `string` или `boolean`, вывод типов указывает принадлежность к литеральным примитивным типам, определяемым самим значением.\n\n`````ts\nconst v0 = 0; // let v0: 0\nconst v1 = 'text'; // let v1: 'text'\nconst v2 = true; // let v2: true\n\nclass Identifier {\n    readonly f0 = 0; // f0: 0\n    readonly f1 = 'text'; // f1: 'text'\n    readonly f2 = true;// f2: true\n}\n`````\n\nЕсли значение принадлежит к типу `enum`, то вывод типов установит принадлежность к указанному значению.\n\n`````ts\nenum Enums {\n    Value\n}\n\nconst v = Enums.Value; // const v: Enums.Value\n\nclass Identifier {\n    readonly f = Enums.Value; // f: Enums.Value\n}\n`````\n\nКогда вывод типов встречает значение, принадлежащее к типу `symbol`, его поведение зависит от конструкции, которой присваивается значение. Так, если вывод типов работает с константой, то тип определяется как запрос типа (глава [“Type Queries (запросы типа), Alias (псевдонимы типа)”](../017.(Типы)%20Type%20Queries%20(запросы%20типа),%20Alias%20(псевдонимы%20типа))) самой константы. Если вывод типов устанавливает принадлежность к типу неизменяемого поля, то тип будет определен как `symbol`. Происходит так потому, что вместе с созданием нового экземпляра в системе будет определяться и новый символ, что противоречит правилам установленным для `Unique Symbol` (глава [“Типы - Примитивные литеральные типы Number, String, Boolean, Unique Symbol, Enum”](../018.%28Типы%29%20Примитивные%20литеральные%20типы%20Number%2C%20String%2C%20Template%20String%2C%20Boolean%2C%20Unique%20Symbol%2C%20Enum)).\n\n`````ts\nconst v = Symbol(); // const v: typeof v\n\nclass Identifier {\n    readonly f = Symbol(); // f: symbol\n}\n`````"},{"key":"Вывод типов_3","elementId":"Vyvod_obektnyh_tipov","markdown":"## Вывод объектных типов\n\nС выводом объектных типов не связанно ничего необычного. Кроме того, поведение вывода типов одинаково для всех конструкций.\n\n`````ts\nclass ClassType {}\ninterface InterfaceType {}\n\ntype TypeAlias = number;\n\nlet typeInterface: InterfaceType;\nlet typeTypeAlias: TypeAlias;\n\nlet v0 = { a: 5, b: 'text', c: true }; // let v0: {a: number, b:string, c: boolean}\nconst v1 = { a: 5, b: 'text', c: true }; // const v1: {a: number, b: string, c: boolean}\n\nlet v3 = new ClassType(); // let v3: ClassType\nlet v4 = typeInterface; // let v4: InterfaceType\nlet v5 = typeTypeAlias; // let v5: number\n`````"},{"key":"Вывод типов_4","elementId":"Vyvod_tipa_dlya_polei_klassa_na_osnove_inicializacii_ih_v_konstruktore","markdown":"## Вывод типа для полей класса на основе инициализации их в конструкторе\n\nЕсли прочитать главу, посвященную конфигурации компилятора, станет известно, что при активном флаге `--noImplicitAny`, возникает ошибка, если тело класса включает поля без аннотации типа. Дело в том, что вывод типов расценивает поля без явной аннотации типа как принадлежащие к `any`, который как раз и не допускает активированный флаг `--noImplicitAny`.\n\n`````ts\nclass Square {\n    /**\n     * Поля без явной аннотации типа.\n     * Вывод типов определяет их\n     * принадлежность к типу any.\n     *\n     * (property) Square.area: any\n     * (property) Square.sideLength: any\n     *\n     * От этого возникает ошибка -\u003e\n     * TS7008: Member 'area' implicitly has an 'any' type.\n     * TS7008: Member 'sideLength' implicitly has an 'any' type.\n     */\n    area;\n    sideLength;\n\n    constructor() {\n    }\n}\n`````\n\nНо, к счастью, тип полей без явной аннотации может быть автоматически выведен, если инициализация таких полей происходит в конструкторе.\n\n`````ts\nclass Square {\n    /**\n     * Поля без явной аннотации типа,\n     * но ошибки не возникает, поскольку\n     * вывод типов определяет их принадлежность\n     * к типу number, так как поле sideLength\n     * инициализируется в конструкторе его параметром,\n     * принадлежащим к типу number, а поле area инициализируется\n     * там же с помощью выражения, результат которого\n     * также принадлежит к типу number.\n     *\n     * (property) Square.area: number\n     * (property) Square.sideLength: number\n     */\n    area;\n    sideLength;\n\n    constructor(sideLength: number) {\n        this.sideLength = sideLength;\n        this.area = this.sideLength ** 2;\n    }\n}\n`````\n\n\nНе будет лишним сделать акцент на словах об инициализации в конструкторе, поскольку это условие является обязательным. При попытке инициализации полей вне тела конструктора будет вызвана ошибка, даже если инициализация производится в методе, вызываемом из конструктора.\n\n`````ts\nclass Square {\n    /**\n     * Error -\u003e\n     * TS7008: Member 'area' implicitly has an 'any' type.\n     */\n    area;\n    sideLength;\n\n    constructor(sideLength: number) {\n        this.sideLength = sideLength;\n        this.init();\n    }\n\n    init(){\n        this.area = this.sideLength ** 2;\n    }\n}\n`````\n\nЕсли инициализация полей класса без аннотации по каким-то причинам может не состоятся, то тип будет выведен как объединение, включающее так же и тип `undefined`.\n\n`````ts\nclass Square {\n    /**\n     * [1] ...вывод типов определяет принадлежность\n     * поля sideLength как -\u003e\n     *\n     * (property) Square.sideLength: number | undefined\n     */\n    sideLength;\n\n    constructor(sideLength: number) {\n        /**\n         * [0] Поскольку инициализация зависит от\n         * условия выражения, которое выполнится\n         * только во время выполнения программы...\n         */\n        if (Math.random()) {\n            this.sideLength = sideLength;\n        }\n    }\n\n    get area() {\n        /**\n         * [2] Тем не менее, возникает ошибка,\n         * поскольку операция возведения в степень\n         * производится над значением, которое может\n         * быть undefined\n         *\n         * Error -\u003e\n         * Object is possibly 'undefined'.\n         */\n        return this.sideLength ** 2;\n    }\n}\n`````"},{"key":"Вывод типов_5","elementId":"Vyvod_obedinennyh_(Union)_tipov","markdown":"## Вывод объединенных (Union) типов\n\nС выводом типов объединения (глава [“Типы - Union, Intersection”](../016.(Типы)%20Типы%20-%20Union,%20Intersection)) связаны как очевидные, так и нет, случаи.\n\nК очевидным случаям можно отнести массив, состоящий из разных примитивных типов. В этом случае будет выведен очевидный тип _объединение_, которое определяется типами присутствующих в массиве примитивов.\n\n`````ts\nlet v = [0, 'text', true]; // let v: (string | number | boolean)[]\n`````\n\nВ случае получения любого элемента массива, вывод типов также установит принадлежность к объединенному типу.\n\n`````ts\nlet v = [0, 'text', true]; // let v: (string | number | boolean)[]\n\nlet item = v[0]; // let item: string | number | boolean\n`````\n\nНеочевидные особенности лучше всего начать с примера, в котором вывод типа определяет принадлежность значения к массиву, состоящему из обычных объектных типов.\n\n`````ts\nlet v = [\n    { a: 5, b: 'text' },\n    { a: 6, b: 'text' }\n]; // let v: { a: number, b: string }[]\n`````\n\nВ примере, вывод типов выводит ожидаемый и предсказуемый результат для массива объектов, чьи типы полностью идентичны. Идентичны они по той причине, что вывод типов установит тип `{a: number, b: string}` для всех элементов массива.\n\nНо стоит изменить условие, допустим, убрать объявление одного поля и картина кардинально изменится. Вместо массива обычных объектов, тип будет выведен, как массив объединенного типа.\n\n`````ts\nlet v = [\n    { a: 5, b: 'text' },\n    { a: 6 },\n    { a: 7, b: true }\n]; // let v: ({ a: number, b: string } | { a: number, b?: undefined } | { a: number, b: boolean })[]\n`````\n\nКак видно из примера выше, вывод типов приводит все объектные типы, составляющие тип объединение, к единому виду. Он добавляет к типам несуществующие в них, но существующие в других объектных типах, поля, декларируя их как необязательные (глава [“Операторы - Optional, Not-Null, Not-Undefined, Definite Assignment Assertion”](../031.%28Работа%20с%20типами%29%20Операторы%20-%20Optional%2C%20Not-Null%20Not-Undefined%2C%20Definite%20Assignment%20Assertion)). Сделано это для возможности конкретизировать тип любого элемента массива. Простыми словами, что бы не получить ошибку во время выполнения, любой элемент массива должен иметь общие для всех элементов признаки. Но так как в реальности, в объектах, некоторые члены вовсе могут отсутствовать, вывод типов, что бы повысить типобезопасность, декларирует их как необязательные. Таким образом он предупреждает разработчика о возможности возникновения ситуации, при которой эти члены будут иметь значение `undefined`, что и демонстрируется в примере ниже.\n\n`````ts\nlet v = [\n    { a: 5, b: 'text' },\n    { a: 6 },\n    { a: 7, b: true }\n]; // let v: ({ a: number, b: string } | { a: number, b?: undefined } | { a: number, b: boolean })[]\n\nlet a = v[0].a; // let a: number\nlet b = v[0].b; // let b: string | boolean | undefined\n`````\n\nЕсли в качестве значений элементов массива выступают экземпляры классов, не связанных отношением наследования, то они и будут определять тип объединение.\n\n`````ts\nclass A {\n    public a: number = 0;\n}\n\nclass B {\n    public a: string = '';\n    public b: number = 5;\n}\n\nlet v = [\n    new A(),\n    new B()\n]; // let v: (A | B)[]\n`````\n\nВ случае, если элементы массива являются экземплярами классов, связанных отношением наследования (_номинативная типизация_ [“Экскурс в типизацию - Совместимость типов на основе вида типизации”](../009.(Экскурс%20в%20типизацию)%20Совместимость%20типов%20на%20основе%20вида%20типизации)), то выводимый тип будет ограничен самым базовым типом.\n\n`````ts\nclass A {}\nclass B extends A { f0 = 0; }\nclass C extends A { f1 = ''; }\nclass D extends A { f2 = true; }\nclass E extends D { f3 = {}; }\n\nlet v3 = [new A(), new B(), new C(), new D(), new E()];  // let v3: A[]\nlet v4 = [new B(), new C(), new D(), new E()];  // let v4: (B | C | D)[]\n`````\n\nТе же самые правила применяются при выводе типа значения, возвращаемого тернарным оператором.\n\n`````ts\nclass A {}\nclass B extends A { f0 = 0; }\nclass C extends A { f1 = ''; }\nclass D extends A { f2 = true; }\nclass E extends D { f3 = {}; }\n\nlet v0 = false ? new A() : new B();  // let v0: A\nlet v1 = false ? new B() : new C();  // let v1: B | C\nlet v2 = false ? new C() : new D();  // let v2: C | D\n`````\n\nТак как выражение, расположенное в блоке тернарного оператора, вычисляется на этапе выполнения программы, вывод типов не может знать результата его вычисления на этапе компиляции. Поэтому, что бы не нарушить типобезопасность, он вынужден указывать объединенный тип, определяемый всеми блоками выражения."},{"key":"Вывод типов_6","elementId":"Vyvod_peresecheniya_(Intersection)_s_diskriminantnymi_polyami","markdown":"## Вывод пересечения (Intersection) с дискриминантными полями\n\nЕсли при определении типа пересечения, определяющее его множество включает больше одного типа, определяющего одноименные дискриминантные поля, принадлежащие к разным типам, то такое пересечение определяется как тип `never`. Данная тема подробно бала рассмотрены в главе [\"Типы - Discriminated Union\"](../033.%28Типы%29%20Дискриминантное%20объединение%20%28Discriminated%20Union%29)\n\n`````ts\ntype A = {\n    type: \"a\"; // дискриминантное поле\n\n    a: number;\n};\ntype B = {\n    type: \"b\"; // дискриминантное поле\n\n    b: number;\n};\ntype C = {\n    c: number;\n};\ntype D = {\n    d: number;\n};\n\n/**\n * Как видно, типы A и B\n * определяют одноименное\n * дискриминантное поле type,\n * принадлежащее к разным типам \"a\" и \"b\",\n * поэтому тип T будет определен\n * как тип never.\n *\n * type T = never\n */\n\ntype T = A \u0026 B \u0026 C \u0026 D;\n`````\n\nНо стоит обратить внимание, что речь идет только об одноименных полях принадлежащих к разным типам. То есть, если множество, определяющее пересечение, включает несколько типов с одноименными дискриминантными полями, принадлежащих к одному типу, то такое множество будет определено ожидаемым образом.\n\n`````ts\ntype A = {\n    type: \"a\"; // дискриминантное поле с типом a\n\n    a: number;\n};\ntype B = {\n    type: \"a\"; // дискриминантное поле с типом b\n\n    b: number;\n};\ntype C = {\n    c: number;\n};\ntype D = {\n    d: number;\n};\n\n/**\n * Как видно, типы A и B\n * по-прежнему определяют одноименные\n * дискриминантные поля type, но на этот\n * раз они принадлежат к одному типу \"a\",\n * поэтому тип T будет определен ожидаемым\n * образом.\n *\n *\n *\n * type T = A \u0026 B \u0026 C \u0026 D\n */\n\ntype T = A \u0026 B \u0026 C \u0026 D;\n`````"},{"key":"Вывод типов_7","elementId":"Vyvod_tipov_kortej_(Tuple)","markdown":"## Вывод типов кортеж (Tuple)\n\nНачать стоит с напоминания, что значение длины кортежа, содержащего элементы, помеченные как необязательные, принадлежит к типу объединению (`Union`), который составляют литеральные числовые типы.\n\n`````ts\nfunction f(...rest: [number, string?, boolean?]): [number, string?, boolean?] {\n    return rest;\n}\n\nlet l = f(5).length; // let l: 1 | 2 | 3\n`````\n\nКроме того, остаточные параметры (`...rest`), аннотированные с помощью параметра типа, рассматриваются и представляются выводом типа как принадлежащие к типу-кортежу.\n\n`````ts\nfunction f\u003cT extends any[]\u003e(...rest: T): T {\n    return rest;\n}\n\n// рассматриваются\n\nf(5); // function f\u003c[number]\u003e(rest_0: number): [number]\nf(5, ''); // function f\u003c[number, string]\u003e(rest_0: number, rest_1: string): [number, string]\nf(5, '', true); // function f\u003c[number, string, boolean]\u003e(rest_0: number, rest_1: string, rest_2: boolean): [number, string, boolean]\n\n// представляются\n\nlet v0 = f(5); // let v0: [number]\nlet v1 = f(5, ''); // let v1: [number, string]\nlet v2 = f(5, '', true); // let v2: [number, string, boolean]\n`````\n\nЕсли функция, определяющая остаточные параметры, принадлежащие к параметру типа, будет вызвана с аргументами, включающих массив, указанный при помощи расширяющего синтаксиса (_spread syntax_), то тип для него будет выведен в виде остаточного типа `...rest`.\n\n`````ts\nfunction tuple\u003cT extends any[]\u003e(...args: T): T {\n    return args;\n}\n\nlet numberAll: number[] = [0, 1, 2];\nlet v0 = tuple(5, '', true); // let v0: [number, string, boolean]\nlet v1 = tuple(5, ...numberAll); // let v1: [number, ...number[]]\nlet v2 = tuple(5, ...numberAll, ''); // let v2: [number, ...number[], string]\n`````"}],"githubFileInfo":{"lastUpdate":1617711223000,"contributorAll":[{"name":"nauchikus","avatar":"https://avatars.githubusercontent.com/u/31518738?v=4","bio":"@TechnoFanatic(\"🍬\")\r\n","githubUrl":"https://github.com/nauchikus"}]},"pageNav":{"isPrevPage":true,"isNextPage":true,"prevPage":{"title":"Защитники типа","path":"Zashchitniki_tipa"},"nextPage":{"title":"Совместимость объектных типов (Compatible Object Types)","path":"Sovmestimost_obektnyh_tipov_(Compatible_Object_Types)"}},"contentNavData":{"key":"Вывод типов","level":0,"index":39,"contentIndex":0,"section":"Типизация","title":"Вывод типов","path":"Vyvod_tipov","elementId":"Vyvod_tipov","children":[{"key":"Вывод типов_0","index":0,"contentIndex":1,"level":1,"section":"Типизация","title":"Вывод типов - общие сведения","path":"Vyvod_tipov_-_obshchie_svedeniya","elementId":"Vyvod_tipov_-_obshchie_svedeniya"},{"key":"Вывод типов_1","index":1,"contentIndex":2,"level":1,"section":"Типизация","title":"Вывод примитивных типов","path":"Vyvod_primitivnyh_tipov","elementId":"Vyvod_primitivnyh_tipov"},{"key":"Вывод типов_2","index":2,"contentIndex":3,"level":1,"section":"Типизация","title":"Вывод примитивных типов для констант (const) и полей только для чтения (readonly)","path":"Vyvod_primitivnyh_tipov_dlya_konstant_(const)_i_polei_tolko_dlya_chteniya_(readonly)","elementId":"Vyvod_primitivnyh_tipov_dlya_konstant_(const)_i_polei_tolko_dlya_chteniya_(readonly)"},{"key":"Вывод типов_3","index":3,"contentIndex":4,"level":1,"section":"Типизация","title":"Вывод объектных типов","path":"Vyvod_obektnyh_tipov","elementId":"Vyvod_obektnyh_tipov"},{"key":"Вывод типов_4","index":4,"contentIndex":5,"level":1,"section":"Типизация","title":"Вывод типа для полей класса на основе инициализации их в конструкторе","path":"Vyvod_tipa_dlya_polei_klassa_na_osnove_inicializacii_ih_v_konstruktore","elementId":"Vyvod_tipa_dlya_polei_klassa_na_osnove_inicializacii_ih_v_konstruktore"},{"key":"Вывод типов_5","index":5,"contentIndex":6,"level":1,"section":"Типизация","title":"Вывод объединенных (Union) типов","path":"Vyvod_obedinennyh_(Union)_tipov","elementId":"Vyvod_obedinennyh_(Union)_tipov"},{"key":"Вывод типов_6","index":6,"contentIndex":7,"level":1,"section":"Типизация","title":"Вывод пересечения (Intersection) с дискриминантными полями","path":"Vyvod_peresecheniya_(Intersection)_s_diskriminantnymi_polyami","elementId":"Vyvod_peresecheniya_(Intersection)_s_diskriminantnymi_polyami"},{"key":"Вывод типов_7","index":7,"contentIndex":8,"level":1,"section":"Типизация","title":"Вывод типов кортеж (Tuple)","path":"Vyvod_tipov_kortej_(Tuple)","elementId":"Vyvod_tipov_kortej_(Tuple)"}]}},"__N_SSG":true},"page":"/book/chapters/[chapterId]","query":{"chapterId":"Vyvod_tipov"},"buildId":"4NvSniSC7aiYoFi3Wr-BA","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>